{"version":3,"file":"main.4e0bcc83595c2a2ce417.js","mappings":"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","sources":["webpack://signalk-data-connector/./src/webapp/index.js"],"sourcesContent":["import \"./styles.css\";\n\n// Constants\nconst DELTA_TIMER_MIN = 100;\nconst DELTA_TIMER_MAX = 10000;\nconst NOTIFICATION_TIMEOUT = 4000;\nconst METRICS_REFRESH_INTERVAL = 5000; // 5 seconds\n\nclass DataConnectorConfig {\n  constructor() {\n    this.deltaTimerConfig = null;\n    this.subscriptionConfig = null;\n    this.isServerMode = false;\n    this.metricsInterval = null;\n    this.init();\n  }\n\n  async init() {\n    try {\n      await this.checkServerMode();\n      if (this.isServerMode) {\n        this.showServerModeUI();\n        await this.loadMetrics(); // Load metrics for server mode\n        this.startMetricsRefresh(); // Start auto-refresh\n      } else {\n        await this.loadConfigurations();\n        this.setupEventListeners();\n        this.updateUI();\n        this.updateStatus();\n        await this.loadMetrics(); // Load metrics for client mode\n        this.startMetricsRefresh(); // Start auto-refresh\n      }\n    } catch (error) {\n      console.error(\"Initialization error:\", error);\n      this.showNotification(\"Failed to initialize application: \" + error.message, \"error\");\n    }\n  }\n\n  async checkServerMode() {\n    try {\n      // Try to access the configuration API\n      const response = await fetch(\"/plugins/signalk-data-connector/config/delta_timer.json\");\n      this.isServerMode = !response.ok && (response.status === 404 || response.status === 405);\n    } catch (error) {\n      // If fetch fails completely, assume server mode\n      this.isServerMode = true;\n    }\n  }\n\n  async loadConfigurations() {\n    try {\n      // Load delta timer configuration\n      const deltaResponse = await fetch(\"/plugins/signalk-data-connector/config/delta_timer.json\");\n      this.deltaTimerConfig = await deltaResponse.json();\n\n      // Load subscription configuration\n      const subResponse = await fetch(\"/plugins/signalk-data-connector/config/subscription.json\");\n      this.subscriptionConfig = await subResponse.json();\n    } catch (error) {\n      this.showNotification(\"Error loading configurations: \" + error.message, \"error\");\n    }\n  }\n\n  setupEventListeners() {\n    // Delta timer save button\n    document.getElementById(\"saveDeltaTimer\").addEventListener(\"click\", () => {\n      this.saveDeltaTimer();\n    });\n\n    // Subscription save button\n    document.getElementById(\"saveSubscription\").addEventListener(\"click\", () => {\n      this.saveSubscription();\n    });\n\n    // Add path button\n    document.getElementById(\"addPath\").addEventListener(\"click\", () => {\n      this.addPathItem();\n    });\n\n    // JSON editor sync\n    document.getElementById(\"subscriptionJson\").addEventListener(\"input\", () => {\n      this.syncFromJson();\n    });\n\n    // Context input change\n    document.getElementById(\"context\").addEventListener(\"input\", () => {\n      this.updateJsonFromForm();\n    });\n  }\n\n  updateUI() {\n    // Update delta timer input\n    if (this.deltaTimerConfig && this.deltaTimerConfig.deltaTimer) {\n      document.getElementById(\"deltaTimer\").value = this.deltaTimerConfig.deltaTimer;\n    }\n\n    // Update subscription configuration\n    if (this.subscriptionConfig) {\n      document.getElementById(\"context\").value = this.subscriptionConfig.context || \"*\";\n\n      // Clear existing paths\n      document.getElementById(\"pathsList\").innerHTML = \"\";\n\n      // Add subscription paths\n      if (this.subscriptionConfig.subscribe && Array.isArray(this.subscriptionConfig.subscribe)) {\n        this.subscriptionConfig.subscribe.forEach((sub) => {\n          this.addPathItem(sub.path);\n        });\n      }\n\n      // Update JSON editor\n      document.getElementById(\"subscriptionJson\").value = JSON.stringify(\n        this.subscriptionConfig,\n        null,\n        2\n      );\n    }\n  }\n\n  addPathItem(path = \"\") {\n    const pathsList = document.getElementById(\"pathsList\");\n    const pathItem = document.createElement(\"div\");\n    pathItem.className = \"path-item\";\n\n    // Create elements safely to prevent XSS\n    const input = document.createElement(\"input\");\n    input.type = \"text\";\n    input.value = path; // Safe: value property is automatically escaped\n    input.placeholder = \"navigation.position\";\n    input.className = \"path-input\";\n\n    const button = document.createElement(\"button\");\n    button.type = \"button\";\n    button.className = \"btn btn-danger\";\n    button.textContent = \"Remove\";\n\n    // Add event listeners\n    input.addEventListener(\"input\", () => {\n      this.updateJsonFromForm();\n    });\n\n    button.addEventListener(\"click\", () => {\n      pathItem.remove();\n      this.updateJsonFromForm();\n    });\n\n    pathItem.appendChild(input);\n    pathItem.appendChild(button);\n    pathsList.appendChild(pathItem);\n    this.updateJsonFromForm();\n  }\n\n  updateJsonFromForm() {\n    const context = document.getElementById(\"context\").value || \"*\";\n    const pathInputs = document.querySelectorAll(\".path-input\");\n    const subscribe = Array.from(pathInputs)\n      .map((input) => ({ path: input.value }))\n      .filter((sub) => sub.path.trim() !== \"\");\n\n    const config = {\n      context: context,\n      subscribe: subscribe\n    };\n\n    document.getElementById(\"subscriptionJson\").value = JSON.stringify(config, null, 2);\n  }\n\n  syncFromJson() {\n    try {\n      const jsonText = document.getElementById(\"subscriptionJson\").value;\n      const config = JSON.parse(jsonText);\n\n      // Update context\n      document.getElementById(\"context\").value = config.context || \"*\";\n\n      // Update paths\n      const pathsList = document.getElementById(\"pathsList\");\n      pathsList.innerHTML = \"\";\n\n      if (config.subscribe && Array.isArray(config.subscribe)) {\n        config.subscribe.forEach((sub) => {\n          this.addPathItem(sub.path || \"\");\n        });\n      }\n    } catch (error) {\n      // Invalid JSON, don't update form\n      console.warn(\"Invalid JSON in editor:\", error.message);\n    }\n  }\n\n  async saveDeltaTimer() {\n    const deltaTimer = parseInt(document.getElementById(\"deltaTimer\").value);\n\n    if (isNaN(deltaTimer) || deltaTimer < DELTA_TIMER_MIN || deltaTimer > DELTA_TIMER_MAX) {\n      this.showNotification(\n        `Delta timer must be between ${DELTA_TIMER_MIN} and ${DELTA_TIMER_MAX} milliseconds`,\n        \"error\"\n      );\n      return;\n    }\n\n    const config = { deltaTimer: deltaTimer };\n\n    try {\n      const response = await fetch(\"/plugins/signalk-data-connector/config/delta_timer.json\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(config)\n      });\n\n      if (response.ok) {\n        this.deltaTimerConfig = config;\n        this.showNotification(\"Delta timer configuration saved successfully!\", \"success\");\n        this.updateStatus();\n      } else {\n        throw new Error(\"Failed to save configuration\");\n      }\n    } catch (error) {\n      this.showNotification(\"Error saving delta timer: \" + error.message, \"error\");\n    }\n  }\n\n  async saveSubscription() {\n    try {\n      const jsonText = document.getElementById(\"subscriptionJson\").value;\n      const config = JSON.parse(jsonText);\n\n      // Validate configuration\n      if (!config.context) {\n        throw new Error(\"Context is required\");\n      }\n\n      if (!config.subscribe || !Array.isArray(config.subscribe)) {\n        throw new Error(\"Subscribe array is required\");\n      }\n\n      const response = await fetch(\"/plugins/signalk-data-connector/config/subscription.json\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(config)\n      });\n\n      if (response.ok) {\n        this.subscriptionConfig = config;\n        this.showNotification(\"Subscription configuration saved successfully!\", \"success\");\n        this.updateStatus();\n      } else {\n        throw new Error(\"Failed to save configuration\");\n      }\n    } catch (error) {\n      this.showNotification(\"Error saving subscription: \" + error.message, \"error\");\n    }\n  }\n\n  async loadMetrics() {\n    try {\n      const response = await fetch(\"/plugins/signalk-data-connector/metrics\");\n      if (response.ok) {\n        const metrics = await response.json();\n        this.updateMetricsDisplay(metrics);\n      }\n    } catch (error) {\n      console.error(\"Error loading metrics:\", error.message);\n    }\n  }\n\n  startMetricsRefresh() {\n    // Clear any existing interval\n    if (this.metricsInterval) {\n      clearInterval(this.metricsInterval);\n    }\n\n    // Refresh metrics every 5 seconds\n    this.metricsInterval = setInterval(() => {\n      this.loadMetrics();\n    }, METRICS_REFRESH_INTERVAL);\n  }\n\n  updateMetricsDisplay(metrics) {\n    // Update bandwidth display\n    this.updateBandwidthDisplay(metrics);\n\n    // Update path analytics display\n    this.updatePathAnalyticsDisplay(metrics);\n\n    // Update general metrics\n    const metricsDiv = document.getElementById(\"metrics\");\n    if (!metricsDiv) {\n      return;\n    }\n\n    const hasErrors =\n      metrics.stats.udpSendErrors > 0 ||\n      metrics.stats.compressionErrors > 0 ||\n      metrics.stats.encryptionErrors > 0 ||\n      metrics.stats.subscriptionErrors > 0;\n\n    let metricsHtml = `\n      <h4>üìä Performance Metrics</h4>\n      <div class=\"metrics-grid\">\n        <div class=\"metric-item\">\n          <div class=\"metric-label\">Uptime</div>\n          <div class=\"metric-value\">${metrics.uptime.formatted}</div>\n        </div>\n        <div class=\"metric-item\">\n          <div class=\"metric-label\">Mode</div>\n          <div class=\"metric-value\">${metrics.mode === \"server\" ? \"üñ•Ô∏è Server\" : \"üì± Client\"}</div>\n        </div>\n        <div class=\"metric-item ${metrics.status.readyToSend ? \"success\" : \"error\"}\">\n          <div class=\"metric-label\">Status</div>\n          <div class=\"metric-value\">${metrics.status.readyToSend ? \"‚úì Ready\" : \"‚úó Not Ready\"}</div>\n        </div>\n        ${\n  metrics.mode === \"client\"\n    ? `\n        <div class=\"metric-item\">\n          <div class=\"metric-label\">Buffered Deltas</div>\n          <div class=\"metric-value\">${metrics.status.deltasBuffered}</div>\n        </div>\n        `\n    : \"\"\n}\n      </div>\n\n      <div class=\"metrics-stats\">\n        <h5>Transmission Statistics</h5>\n        <div class=\"stats-grid\">\n          ${\n  metrics.mode === \"client\"\n    ? `\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Deltas Sent:</span>\n            <span class=\"stat-value\">${metrics.stats.deltasSent.toLocaleString()}</span>\n          </div>\n          `\n    : \"\"\n}\n          ${\n  metrics.mode === \"server\"\n    ? `\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Deltas Received:</span>\n            <span class=\"stat-value\">${metrics.stats.deltasReceived.toLocaleString()}</span>\n          </div>\n          `\n    : \"\"\n}\n          ${\n  metrics.mode === \"client\"\n    ? `\n          <div class=\"stat-item ${metrics.stats.udpSendErrors > 0 ? \"error\" : \"\"}\">\n            <span class=\"stat-label\">UDP Send Errors:</span>\n            <span class=\"stat-value\">${metrics.stats.udpSendErrors}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">UDP Retries:</span>\n            <span class=\"stat-value\">${metrics.stats.udpRetries}</span>\n          </div>\n          `\n    : \"\"\n}\n          <div class=\"stat-item ${metrics.stats.compressionErrors > 0 ? \"error\" : \"\"}\">\n            <span class=\"stat-label\">Compression Errors:</span>\n            <span class=\"stat-value\">${metrics.stats.compressionErrors}</span>\n          </div>\n          <div class=\"stat-item ${metrics.stats.encryptionErrors > 0 ? \"error\" : \"\"}\">\n            <span class=\"stat-label\">Encryption Errors:</span>\n            <span class=\"stat-value\">${metrics.stats.encryptionErrors}</span>\n          </div>\n          ${\n  metrics.mode === \"client\"\n    ? `\n          <div class=\"stat-item ${metrics.stats.subscriptionErrors > 0 ? \"error\" : \"\"}\">\n            <span class=\"stat-label\">Subscription Errors:</span>\n            <span class=\"stat-value\">${metrics.stats.subscriptionErrors}</span>\n          </div>\n          `\n    : \"\"\n}\n        </div>\n      </div>\n    `;\n\n    if (metrics.lastError) {\n      const timeAgo = metrics.lastError.timeAgo;\n      const timeAgoStr =\n        timeAgo < 60000\n          ? `${Math.floor(timeAgo / 1000)}s ago`\n          : `${Math.floor(timeAgo / 60000)}m ago`;\n\n      metricsHtml += `\n        <div class=\"metrics-error\">\n          <h5>‚ö†Ô∏è Last Error</h5>\n          <div class=\"error-message\">${this.escapeHtml(metrics.lastError.message)}</div>\n          <div class=\"error-time\">Occurred ${timeAgoStr}</div>\n        </div>\n      `;\n    } else if (!hasErrors) {\n      metricsHtml += `\n        <div class=\"metrics-success\">\n          <div class=\"success-message\">‚úì No errors detected</div>\n        </div>\n      `;\n    }\n\n    metricsDiv.innerHTML = metricsHtml;\n  }\n\n  updateBandwidthDisplay(metrics) {\n    const bandwidthDiv = document.getElementById(\"bandwidth\");\n    if (!bandwidthDiv || !metrics.bandwidth) {\n      return;\n    }\n\n    const bw = metrics.bandwidth;\n    const isClient = metrics.mode === \"client\";\n\n    // Calculate savings\n    const savedBytes = bw.bytesOutRaw - bw.bytesOut;\n    const savedFormatted = this.formatBytes(savedBytes > 0 ? savedBytes : 0);\n\n    const bandwidthHtml = `\n      <div class=\"bandwidth-dashboard\">\n        <div class=\"bandwidth-hero\">\n          <div class=\"hero-stat ${isClient ? \"primary\" : \"secondary\"}\">\n            <div class=\"hero-value\">${isClient ? bw.rateOutFormatted : bw.rateInFormatted}</div>\n            <div class=\"hero-label\">${isClient ? \"Upload Rate\" : \"Download Rate\"}</div>\n          </div>\n          <div class=\"hero-stat success\">\n            <div class=\"hero-value\">${bw.compressionRatio}%</div>\n            <div class=\"hero-label\">Compression Ratio</div>\n          </div>\n          <div class=\"hero-stat\">\n            <div class=\"hero-value\">${bw.avgPacketSizeFormatted}</div>\n            <div class=\"hero-label\">Avg Packet Size</div>\n          </div>\n        </div>\n\n        <div class=\"bandwidth-details\">\n          <h5>üìä Bandwidth Details</h5>\n          <div class=\"bandwidth-grid\">\n            ${\n  isClient\n    ? `\n            <div class=\"bw-stat\">\n              <span class=\"bw-label\">Total Sent (Compressed):</span>\n              <span class=\"bw-value\">${bw.bytesOutFormatted}</span>\n            </div>\n            <div class=\"bw-stat\">\n              <span class=\"bw-label\">Total Raw (Before Compression):</span>\n              <span class=\"bw-value\">${bw.bytesOutRawFormatted}</span>\n            </div>\n            <div class=\"bw-stat highlight\">\n              <span class=\"bw-label\">Bandwidth Saved:</span>\n              <span class=\"bw-value success-text\">${savedFormatted}</span>\n            </div>\n            <div class=\"bw-stat\">\n              <span class=\"bw-label\">Packets Sent:</span>\n              <span class=\"bw-value\">${bw.packetsOut.toLocaleString()}</span>\n            </div>\n            `\n    : `\n            <div class=\"bw-stat\">\n              <span class=\"bw-label\">Total Received (Compressed):</span>\n              <span class=\"bw-value\">${bw.bytesInFormatted}</span>\n            </div>\n            <div class=\"bw-stat\">\n              <span class=\"bw-label\">Packets Received:</span>\n              <span class=\"bw-value\">${bw.packetsIn.toLocaleString()}</span>\n            </div>\n            `\n}\n          </div>\n        </div>\n\n        ${this.renderBandwidthChart(bw.history, isClient)}\n      </div>\n    `;\n\n    bandwidthDiv.innerHTML = bandwidthHtml;\n  }\n\n  renderBandwidthChart(history, isClient) {\n    if (!history || history.length < 2) {\n      return `\n        <div class=\"bandwidth-chart-placeholder\">\n          <p>Collecting data for chart... (${history ? history.length : 0}/2 points)</p>\n        </div>\n      `;\n    }\n\n    // Simple SVG sparkline chart\n    const width = 100;\n    const height = 40;\n    const maxRate = Math.max(...history.map((h) => (isClient ? h.rateOut : h.rateIn)), 1);\n    const points = history\n      .map((h, i) => {\n        const x = (i / (history.length - 1)) * width;\n        const y = height - ((isClient ? h.rateOut : h.rateIn) / maxRate) * height;\n        return `${x},${y}`;\n      })\n      .join(\" \");\n\n    const maxRateFormatted = this.formatBytes(maxRate);\n\n    return `\n      <div class=\"bandwidth-chart\">\n        <h5>üìà Rate History (Last ${history.length * 5}s)</h5>\n        <div class=\"chart-container\">\n          <svg viewBox=\"0 0 ${width} ${height}\" class=\"sparkline\" preserveAspectRatio=\"none\">\n            <polyline\n              fill=\"none\"\n              stroke=\"var(--primary-color)\"\n              stroke-width=\"1.5\"\n              points=\"${points}\"\n            />\n          </svg>\n          <div class=\"chart-labels\">\n            <span class=\"chart-max\">${maxRateFormatted}/s</span>\n            <span class=\"chart-min\">0</span>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  updatePathAnalyticsDisplay(metrics) {\n    const pathDiv = document.getElementById(\"pathAnalytics\");\n    if (!pathDiv || !metrics.pathStats) {\n      return;\n    }\n\n    const paths = metrics.pathStats;\n\n    if (paths.length === 0) {\n      pathDiv.innerHTML = `\n        <div class=\"path-analytics-empty\">\n          <p>No path data collected yet. Data will appear once deltas are transmitted.</p>\n        </div>\n      `;\n      return;\n    }\n\n    // Group by category\n    const categories = {};\n    paths.forEach((p) => {\n      const category = p.path.split(\".\")[0];\n      if (!categories[category]) {\n        categories[category] = { paths: [], totalBytes: 0, totalCount: 0 };\n      }\n      categories[category].paths.push(p);\n      categories[category].totalBytes += p.bytes;\n      categories[category].totalCount += p.count;\n    });\n\n    let pathHtml = `\n      <div class=\"path-analytics-dashboard\">\n        <div class=\"path-summary\">\n          <div class=\"summary-stat\">\n            <span class=\"summary-value\">${paths.length}</span>\n            <span class=\"summary-label\">Active Paths</span>\n          </div>\n          <div class=\"summary-stat\">\n            <span class=\"summary-value\">${Object.keys(categories).length}</span>\n            <span class=\"summary-label\">Categories</span>\n          </div>\n        </div>\n\n        <div class=\"path-table-container\">\n          <table class=\"path-table\">\n            <thead>\n              <tr>\n                <th>Path</th>\n                <th>Updates/min</th>\n                <th>Data Volume</th>\n                <th>% of Total</th>\n              </tr>\n            </thead>\n            <tbody>\n    `;\n\n    // Show top 15 paths\n    paths.slice(0, 15).forEach((p) => {\n      const barWidth = Math.max(p.percentage, 2); // Minimum 2% width for visibility\n      pathHtml += `\n        <tr>\n          <td class=\"path-name\" title=\"${this.escapeHtml(p.path)}\">${this.escapeHtml(p.path)}</td>\n          <td class=\"path-rate\">${p.updatesPerMinute}</td>\n          <td class=\"path-bytes\">${p.bytesFormatted}</td>\n          <td class=\"path-percentage\">\n            <div class=\"percentage-bar-container\">\n              <div class=\"percentage-bar\" style=\"width: ${barWidth}%\"></div>\n              <span class=\"percentage-text\">${p.percentage}%</span>\n            </div>\n          </td>\n        </tr>\n      `;\n    });\n\n    pathHtml += `\n            </tbody>\n          </table>\n        </div>\n    `;\n\n    if (paths.length > 15) {\n      pathHtml += `\n        <div class=\"path-more\">\n          <p>Showing top 15 of ${paths.length} paths</p>\n        </div>\n      `;\n    }\n\n    pathHtml += \"</div>\";\n\n    pathDiv.innerHTML = pathHtml;\n  }\n\n  formatBytes(bytes) {\n    if (bytes === 0) {return \"0 B\";}\n    const k = 1024;\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n  }\n\n  escapeHtml(text) {\n    const div = document.createElement(\"div\");\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  updateStatus() {\n    const statusDiv = document.getElementById(\"status\");\n    let statusHtml = \"<h4>Configuration Status</h4>\";\n\n    // Delta timer status\n    if (this.deltaTimerConfig) {\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Delta Timer:</strong> ${this.deltaTimerConfig.deltaTimer}ms\n                    <span class=\"status-indicator success\">‚úì Configured</span>\n                </div>\n            `;\n    } else {\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Delta Timer:</strong> \n                    <span class=\"status-indicator warning\">‚ö† Not configured</span>\n                </div>\n            `;\n    }\n\n    // Subscription status\n    if (this.subscriptionConfig && this.subscriptionConfig.subscribe) {\n      const pathCount = this.subscriptionConfig.subscribe.length;\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Subscriptions:</strong> ${pathCount} path(s) configured\n                    <span class=\"status-indicator success\">‚úì Configured</span>\n                </div>\n                <div class=\"status-details\">\n                    <strong>Context:</strong> ${this.subscriptionConfig.context}<br>\n                    <strong>Paths:</strong> ${this.subscriptionConfig.subscribe.map((s) => s.path).join(\", \")}\n                </div>\n            `;\n    } else {\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Subscriptions:</strong> \n                    <span class=\"status-indicator warning\">‚ö† Not configured</span>\n                </div>\n            `;\n    }\n\n    statusDiv.innerHTML = statusHtml;\n  }\n\n  showServerModeUI() {\n    const container = document.querySelector(\".container\");\n    container.innerHTML = `\n            <div class=\"config-section\">\n                <div class=\"card server-mode-card\">\n                    <div class=\"card-header\">\n                        <h2>üñ•Ô∏è Server Mode Active</h2>\n                        <p>This plugin is running in Server Mode</p>\n                    </div>\n                    <div class=\"card-content\">\n                        <div class=\"server-mode-info\">\n                            <h3>Server Mode Information</h3>\n                            <p>This SignalK Data Connector instance is configured to <strong>receive encrypted data</strong> from client devices.</p>\n                            \n                            <div class=\"info-grid\">\n                                <div class=\"info-item\">\n                                    <h4>üîß Configuration</h4>\n                                    <p>Server mode configuration is managed through the SignalK server plugin settings. No additional webapp configuration is required.</p>\n                                </div>\n                                \n                                <div class=\"info-item\">\n                                    <h4>üì° Network</h4>\n                                    <p>The server is listening for encrypted UDP data transmissions from client devices on the configured port.</p>\n                                </div>\n                                \n                                <div class=\"info-item\">\n                                    <h4>üîê Security</h4>\n                                    <p>All incoming data is automatically decrypted using the configured secret key and integrated into the SignalK data stream.</p>\n                                </div>\n                                \n                                <div class=\"info-item\">\n                                    <h4>üìä Data Flow</h4>\n                                    <p><strong>Client Devices ‚Üí Server (This Instance) ‚Üí SignalK Data Stream</strong></p>\n                                </div>\n                            </div>\n\n                            <div class=\"server-status\">\n                                <h4>Current Status</h4>\n                                <div class=\"status-indicator success\">‚úì Server is active and listening for client connections</div>\n                            </div>\n\n                            <div id=\"metrics\" class=\"metrics-section\"></div>\n\n                            <div class=\"configuration-note\">\n                                <h4>üí° Need to Configure?</h4>\n                                <p>To modify server settings (UDP port, encryption key, etc.), use the SignalK server's plugin configuration interface:</p>\n                                <ol>\n                                    <li>Go to SignalK Admin Panel</li>\n                                    <li>Navigate to Plugin Config</li>\n                                    <li>Find \"Signal K Data Connector\"</li>\n                                    <li>Adjust settings as needed</li>\n                                </ol>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n  }\n\n  showNotification(message, type = \"success\") {\n    const notification = document.getElementById(\"notification\");\n    notification.textContent = message;\n    notification.className = `notification ${type} show`;\n\n    setTimeout(() => {\n      notification.classList.remove(\"show\");\n    }, NOTIFICATION_TIMEOUT);\n  }\n}\n\n// Initialize when DOM is loaded\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  window.dataConnectorConfig = new DataConnectorConfig();\n});\n\n// Clean up metrics refresh interval when page is hidden or unloaded\ndocument.addEventListener(\"visibilitychange\", () => {\n  if (document.hidden && window.dataConnectorConfig && window.dataConnectorConfig.metricsInterval) {\n    clearInterval(window.dataConnectorConfig.metricsInterval);\n    window.dataConnectorConfig.metricsInterval = null;\n  } else if (\n    !document.hidden &&\n    window.dataConnectorConfig &&\n    !window.dataConnectorConfig.metricsInterval\n  ) {\n    // Restart metrics refresh when page becomes visible again\n    window.dataConnectorConfig.startMetricsRefresh();\n  }\n});\n\nwindow.addEventListener(\"beforeunload\", () => {\n  if (window.dataConnectorConfig && window.dataConnectorConfig.metricsInterval) {\n    clearInterval(window.dataConnectorConfig.metricsInterval);\n    window.dataConnectorConfig.metricsInterval = null;\n  }\n});\n\n// Export for global access\nexport default DataConnectorConfig;\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_typeof","toPrimitive","String","_toPrimitive","DataConnectorConfig","_classCallCheck","this","deltaTimerConfig","subscriptionConfig","isServerMode","metricsInterval","init","_init","_callee","_t","_context","checkServerMode","showServerModeUI","loadMetrics","startMetricsRefresh","loadConfigurations","setupEventListeners","updateUI","updateStatus","console","error","showNotification","message","_checkServerMode","_callee2","response","_context2","fetch","ok","status","_loadConfigurations","_callee3","deltaResponse","subResponse","_t3","_context3","json","_this","document","getElementById","addEventListener","saveDeltaTimer","saveSubscription","addPathItem","syncFromJson","updateJsonFromForm","_this2","deltaTimer","context","innerHTML","subscribe","Array","isArray","forEach","sub","path","JSON","stringify","_this3","undefined","pathsList","pathItem","createElement","className","input","type","placeholder","button","textContent","remove","appendChild","pathInputs","querySelectorAll","config","from","map","filter","trim","_this4","jsonText","parse","warn","_saveDeltaTimer","_callee4","_t4","_context4","parseInt","isNaN","concat","method","headers","body","Error","_saveSubscription","_callee5","_t5","_context5","_loadMetrics","_callee6","metrics","_t6","_context6","updateMetricsDisplay","_this5","clearInterval","setInterval","updateBandwidthDisplay","updatePathAnalyticsDisplay","metricsDiv","hasErrors","stats","udpSendErrors","compressionErrors","encryptionErrors","subscriptionErrors","metricsHtml","uptime","formatted","mode","readyToSend","deltasBuffered","deltasSent","toLocaleString","deltasReceived","udpRetries","lastError","timeAgo","timeAgoStr","Math","floor","escapeHtml","bandwidthDiv","bandwidth","bw","isClient","savedBytes","bytesOutRaw","bytesOut","savedFormatted","formatBytes","bandwidthHtml","rateOutFormatted","rateInFormatted","compressionRatio","avgPacketSizeFormatted","bytesOutFormatted","bytesOutRawFormatted","packetsOut","bytesInFormatted","packetsIn","renderBandwidthChart","history","maxRate","max","_toConsumableArray","h","rateOut","rateIn","points","x","join","maxRateFormatted","_this6","pathDiv","pathStats","paths","categories","category","split","totalBytes","totalCount","push","bytes","count","pathHtml","keys","slice","barWidth","percentage","updatesPerMinute","bytesFormatted","log","parseFloat","pow","toFixed","text","div","statusDiv","statusHtml","pathCount","s","querySelector","notification","setTimeout","classList","window","dataConnectorConfig","hidden"],"sourceRoot":""}