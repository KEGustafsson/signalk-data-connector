/*! For license information please see main.2a37570ca36bad4e8351.js.LICENSE.txt */
(()=>{"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,s=Array(n);e<n;e++)s[e]=t[e];return s}function e(){var t,n,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",r=a.toStringTag||"@@toStringTag";function o(e,a,i,r){var o=a&&a.prototype instanceof l?a:l,d=Object.create(o.prototype);return s(d,"_invoke",function(e,s,a){var i,r,o,l=0,d=a||[],u=!1,v={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return i=n,r=0,o=t,v.n=e,c}};function p(e,s){for(r=e,o=s,n=0;!u&&l&&!a&&n<d.length;n++){var a,i=d[n],p=v.p,h=i[2];e>3?(a=h===s)&&(o=i[(r=i[4])?5:(r=3,3)],i[4]=i[5]=t):i[0]<=p&&((a=e<2&&p<i[1])?(r=0,v.v=s,v.n=i[1]):p<h&&(a=e<3||i[0]>s||s>h)&&(i[4]=e,i[5]=s,v.n=h,r=0))}if(a||e>1)return c;throw u=!0,s}return function(a,d,h){if(l>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,h),r=d,o=h;(n=r<2?t:o)||!u;){i||(r?r<3?(r>1&&(v.n=-1),p(r,o)):v.n=o:v.v=o);try{if(l=2,i){if(r||(a="next"),n=i[a]){if(!(n=n.call(i,o)))throw TypeError("iterator result is not an object");if(!n.done)return n;o=n.value,r<2&&(r=0)}else 1===r&&(n=i.return)&&n.call(i),r<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),r=1);i=t}else if((n=(u=v.n<0)?o:e.call(s,v))!==c)break}catch(n){i=t,r=1,o=n}finally{l=1}}return{value:n,done:u}}}(e,i,r),!0),d}var c={};function l(){}function d(){}function u(){}n=Object.getPrototypeOf;var v=[][i]?n(n([][i]())):(s(n={},i,function(){return this}),n),p=u.prototype=l.prototype=Object.create(v);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,s(t,r,"GeneratorFunction")),t.prototype=Object.create(p),t}return d.prototype=u,s(p,"constructor",u),s(u,"constructor",d),d.displayName="GeneratorFunction",s(u,r,"GeneratorFunction"),s(p),s(p,r,"Generator"),s(p,i,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:o,m:h}})()}function s(t,n,e,a){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}s=function(t,n,e,a){function r(n,e){s(t,n,function(t){return this._invoke(n,e,t)})}n?i?i(t,n,{value:e,enumerable:!a,configurable:!a,writable:!a}):t[n]=e:(r("next",0),r("throw",1),r("return",2))},s(t,n,e,a)}function a(t,n,e,s,a,i,r){try{var o=t[i](r),c=o.value}catch(t){return void e(t)}o.done?n(c):Promise.resolve(c).then(s,a)}function i(t){return function(){var n=this,e=arguments;return new Promise(function(s,i){var r=t.apply(n,e);function o(t){a(r,s,i,o,c,"next",t)}function c(t){a(r,s,i,o,c,"throw",t)}o(void 0)})}}function r(t,n){for(var e=0;e<n.length;e++){var s=n[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,o(s.key),s)}}function o(n){var e=function(n){if("object"!=t(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var s=e.call(n,"string");if("object"!=t(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==t(e)?e:e+""}var c=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.deltaTimerConfig=null,this.subscriptionConfig=null,this.sentenceFilterConfig=null,this.isServerMode=!1,this.metricsInterval=null,this.init()},s=[{key:"init",value:(v=i(e().m(function t(){var n;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.checkServerMode();case 1:if(!this.isServerMode){t.n=3;break}return this.showServerModeUI(),t.n=2,this.loadMetrics();case 2:this.startMetricsRefresh(),t.n=6;break;case 3:return t.n=4,this.loadConfigurations();case 4:return this.setupEventListeners(),this.updateUI(),this.updateStatus(),t.n=5,this.loadMetrics();case 5:this.startMetricsRefresh();case 6:t.n=8;break;case 7:t.p=7,n=t.v,console.error("Initialization error:",n),this.showNotification("Failed to initialize application: "+n.message,"error");case 8:return t.a(2)}},t,this,[[0,7]])})),function(){return v.apply(this,arguments)})},{key:"checkServerMode",value:(u=i(e().m(function t(){var n;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fetch("/plugins/signalk-data-connector/config/delta_timer.json");case 1:n=t.v,this.isServerMode=!n.ok&&(404===n.status||405===n.status),t.n=3;break;case 2:t.p=2,t.v,this.isServerMode=!0;case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return u.apply(this,arguments)})},{key:"loadConfigurations",value:(d=i(e().m(function t(){var n,s,a,i;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fetch("/plugins/signalk-data-connector/config/delta_timer.json");case 1:return n=t.v,t.n=2,n.json();case 2:return this.deltaTimerConfig=t.v,t.n=3,fetch("/plugins/signalk-data-connector/config/subscription.json");case 3:return s=t.v,t.n=4,s.json();case 4:return this.subscriptionConfig=t.v,t.n=5,fetch("/plugins/signalk-data-connector/config/sentence_filter.json");case 5:return a=t.v,t.n=6,a.json();case 6:this.sentenceFilterConfig=t.v,t.n=8;break;case 7:t.p=7,i=t.v,this.showNotification("Error loading configurations: "+i.message,"error");case 8:return t.a(2)}},t,this,[[0,7]])})),function(){return d.apply(this,arguments)})},{key:"setupEventListeners",value:function(){var t=this;document.getElementById("saveDeltaTimer").addEventListener("click",function(){t.saveDeltaTimer()}),document.getElementById("saveSubscription").addEventListener("click",function(){t.saveSubscription()}),document.getElementById("saveSentenceFilter").addEventListener("click",function(){t.saveSentenceFilter()}),document.getElementById("addPath").addEventListener("click",function(){t.addPathItem()}),document.getElementById("subscriptionJson").addEventListener("input",function(){t.syncFromJson()}),document.getElementById("context").addEventListener("input",function(){t.updateJsonFromForm()})}},{key:"updateUI",value:function(){var t=this;this.deltaTimerConfig&&this.deltaTimerConfig.deltaTimer&&(document.getElementById("deltaTimer").value=this.deltaTimerConfig.deltaTimer),this.subscriptionConfig&&(document.getElementById("context").value=this.subscriptionConfig.context||"*",document.getElementById("pathsList").innerHTML="",this.subscriptionConfig.subscribe&&Array.isArray(this.subscriptionConfig.subscribe)&&this.subscriptionConfig.subscribe.forEach(function(n){t.addPathItem(n.path)}),document.getElementById("subscriptionJson").value=JSON.stringify(this.subscriptionConfig,null,2)),this.sentenceFilterConfig&&Array.isArray(this.sentenceFilterConfig.excludedSentences)&&(document.getElementById("sentenceFilter").value=this.sentenceFilterConfig.excludedSentences.join(", "))}},{key:"addPathItem",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.getElementById("pathsList"),s=document.createElement("div");s.className="path-item";var a=document.createElement("input");a.type="text",a.value=n,a.placeholder="navigation.position",a.className="path-input";var i=document.createElement("button");i.type="button",i.className="btn btn-danger",i.textContent="Remove",a.addEventListener("input",function(){t.updateJsonFromForm()}),i.addEventListener("click",function(){s.remove(),t.updateJsonFromForm()}),s.appendChild(a),s.appendChild(i),e.appendChild(s),this.updateJsonFromForm()}},{key:"updateJsonFromForm",value:function(){var t=document.getElementById("context").value||"*",n=document.querySelectorAll(".path-input"),e={context:t,subscribe:Array.from(n).map(function(t){return{path:t.value}}).filter(function(t){return""!==t.path.trim()})};document.getElementById("subscriptionJson").value=JSON.stringify(e,null,2)}},{key:"syncFromJson",value:function(){var t=this;try{var n=document.getElementById("subscriptionJson").value,e=JSON.parse(n);document.getElementById("context").value=e.context||"*",document.getElementById("pathsList").innerHTML="",e.subscribe&&Array.isArray(e.subscribe)&&e.subscribe.forEach(function(n){t.addPathItem(n.path||"")})}catch(t){console.warn("Invalid JSON in editor:",t.message)}}},{key:"saveDeltaTimer",value:(l=i(e().m(function t(){var n,s,a;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n=parseInt(document.getElementById("deltaTimer").value),!(isNaN(n)||n<100||n>1e4)){t.n=1;break}return this.showNotification("Delta timer must be between ".concat(100," and ").concat(1e4," milliseconds"),"error"),t.a(2);case 1:return s={deltaTimer:n},t.p=2,t.n=3,fetch("/plugins/signalk-data-connector/config/delta_timer.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 3:if(!t.v.ok){t.n=4;break}this.deltaTimerConfig=s,this.showNotification("Delta timer configuration saved successfully!","success"),this.updateStatus(),t.n=5;break;case 4:throw new Error("Failed to save configuration");case 5:t.n=7;break;case 6:t.p=6,a=t.v,this.showNotification("Error saving delta timer: "+a.message,"error");case 7:return t.a(2)}},t,this,[[2,6]])})),function(){return l.apply(this,arguments)})},{key:"saveSubscription",value:(c=i(e().m(function t(){var n,s,a;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,n=document.getElementById("subscriptionJson").value,(s=JSON.parse(n)).context){t.n=1;break}throw new Error("Context is required");case 1:if(s.subscribe&&Array.isArray(s.subscribe)){t.n=2;break}throw new Error("Subscribe array is required");case 2:return t.n=3,fetch("/plugins/signalk-data-connector/config/subscription.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 3:if(!t.v.ok){t.n=4;break}this.subscriptionConfig=s,this.showNotification("Subscription configuration saved successfully!","success"),this.updateStatus(),t.n=5;break;case 4:throw new Error("Failed to save configuration");case 5:t.n=7;break;case 6:t.p=6,a=t.v,this.showNotification("Error saving subscription: "+a.message,"error");case 7:return t.a(2)}},t,this,[[0,6]])})),function(){return c.apply(this,arguments)})},{key:"saveSentenceFilter",value:(o=i(e().m(function t(){var n,s,a,i;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,n=document.getElementById("sentenceFilter").value,s=n.split(",").map(function(t){return t.trim().toUpperCase()}).filter(function(t){return t.length>0}),a={excludedSentences:s},t.n=1,fetch("/plugins/signalk-data-connector/config/sentence_filter.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 1:if(!t.v.ok){t.n=2;break}this.sentenceFilterConfig=a,this.showNotification("Sentence filter saved successfully!","success"),this.updateStatus(),t.n=3;break;case 2:throw new Error("Failed to save configuration");case 3:t.n=5;break;case 4:t.p=4,i=t.v,this.showNotification("Error saving sentence filter: "+i.message,"error");case 5:return t.a(2)}},t,this,[[0,4]])})),function(){return o.apply(this,arguments)})},{key:"loadMetrics",value:(a=i(e().m(function t(){var n,s,a;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fetch("/plugins/signalk-data-connector/metrics");case 1:if(!(n=t.v).ok){t.n=3;break}return t.n=2,n.json();case 2:s=t.v,this.updateMetricsDisplay(s);case 3:t.n=5;break;case 4:t.p=4,a=t.v,console.error("Error loading metrics:",a.message);case 5:return t.a(2)}},t,this,[[0,4]])})),function(){return a.apply(this,arguments)})},{key:"startMetricsRefresh",value:function(){var t=this;this.metricsInterval&&clearInterval(this.metricsInterval),this.metricsInterval=setInterval(function(){t.loadMetrics()},5e3)}},{key:"updateMetricsDisplay",value:function(t){this.updateBandwidthDisplay(t),this.updatePathAnalyticsDisplay(t);var n=document.getElementById("metrics");if(n){var e=t.stats.udpSendErrors>0||t.stats.compressionErrors>0||t.stats.encryptionErrors>0||t.stats.subscriptionErrors>0,s='\n      <h4>üìä Performance Metrics</h4>\n      <div class="metrics-grid">\n        <div class="metric-item">\n          <div class="metric-label">Uptime</div>\n          <div class="metric-value">'.concat(t.uptime.formatted,'</div>\n        </div>\n        <div class="metric-item">\n          <div class="metric-label">Mode</div>\n          <div class="metric-value">').concat("server"===t.mode?"üñ•Ô∏è Server":"üì± Client",'</div>\n        </div>\n        <div class="metric-item ').concat(t.status.readyToSend?"success":"error",'">\n          <div class="metric-label">Status</div>\n          <div class="metric-value">').concat(t.status.readyToSend?"‚úì Ready":"‚úó Not Ready","</div>\n        </div>\n        ").concat("client"===t.mode?'\n        <div class="metric-item">\n          <div class="metric-label">Buffered Deltas</div>\n          <div class="metric-value">'.concat(t.status.deltasBuffered,"</div>\n        </div>\n        "):"",'\n      </div>\n\n      <div class="metrics-stats">\n        <h5>Transmission Statistics</h5>\n        <div class="stats-grid">\n          ').concat("client"===t.mode?'\n          <div class="stat-item">\n            <span class="stat-label">Deltas Sent:</span>\n            <span class="stat-value">'.concat(t.stats.deltasSent.toLocaleString(),"</span>\n          </div>\n          "):"","\n          ").concat("server"===t.mode?'\n          <div class="stat-item">\n            <span class="stat-label">Deltas Received:</span>\n            <span class="stat-value">'.concat(t.stats.deltasReceived.toLocaleString(),"</span>\n          </div>\n          "):"","\n          ").concat("client"===t.mode?'\n          <div class="stat-item '.concat(t.stats.udpSendErrors>0?"error":"",'">\n            <span class="stat-label">UDP Send Errors:</span>\n            <span class="stat-value">').concat(t.stats.udpSendErrors,'</span>\n          </div>\n          <div class="stat-item">\n            <span class="stat-label">UDP Retries:</span>\n            <span class="stat-value">').concat(t.stats.udpRetries,"</span>\n          </div>\n          "):"",'\n          <div class="stat-item ').concat(t.stats.compressionErrors>0?"error":"",'">\n            <span class="stat-label">Compression Errors:</span>\n            <span class="stat-value">').concat(t.stats.compressionErrors,'</span>\n          </div>\n          <div class="stat-item ').concat(t.stats.encryptionErrors>0?"error":"",'">\n            <span class="stat-label">Encryption Errors:</span>\n            <span class="stat-value">').concat(t.stats.encryptionErrors,"</span>\n          </div>\n          ").concat("client"===t.mode?'\n          <div class="stat-item '.concat(t.stats.subscriptionErrors>0?"error":"",'">\n            <span class="stat-label">Subscription Errors:</span>\n            <span class="stat-value">').concat(t.stats.subscriptionErrors,"</span>\n          </div>\n          "):"","\n        </div>\n      </div>\n    ");if(t.lastError){var a=t.lastError.timeAgo,i=a<6e4?"".concat(Math.floor(a/1e3),"s ago"):"".concat(Math.floor(a/6e4),"m ago");s+='\n        <div class="metrics-error">\n          <h5>‚ö†Ô∏è Last Error</h5>\n          <div class="error-message">'.concat(this.escapeHtml(t.lastError.message),'</div>\n          <div class="error-time">Occurred ').concat(i,"</div>\n        </div>\n      ")}else e||(s+='\n        <div class="metrics-success">\n          <div class="success-message">‚úì No errors detected</div>\n        </div>\n      ');n.innerHTML=s}}},{key:"updateBandwidthDisplay",value:function(t){var n=document.getElementById("bandwidth");if(n&&t.bandwidth){var e=t.bandwidth,s="client"===t.mode,a=e.bytesOutRaw-e.bytesOut,i=this.formatBytes(a>0?a:0),r='\n      <div class="bandwidth-dashboard">\n        <div class="bandwidth-hero">\n          <div class="hero-stat '.concat(s?"primary":"secondary",'">\n            <div class="hero-value">').concat(s?e.rateOutFormatted:e.rateInFormatted,'</div>\n            <div class="hero-label">').concat(s?"Upload Rate":"Download Rate",'</div>\n          </div>\n          <div class="hero-stat success">\n            <div class="hero-value">').concat(e.compressionRatio,'%</div>\n            <div class="hero-label">Compression Ratio</div>\n          </div>\n          <div class="hero-stat">\n            <div class="hero-value">').concat(e.avgPacketSizeFormatted,'</div>\n            <div class="hero-label">Avg Packet Size</div>\n          </div>\n        </div>\n\n        <div class="bandwidth-details">\n          <h5>üìä Bandwidth Details</h5>\n          <div class="bandwidth-grid">\n            ').concat(s?'\n            <div class="bw-stat">\n              <span class="bw-label">Total Sent (Compressed):</span>\n              <span class="bw-value">'.concat(e.bytesOutFormatted,'</span>\n            </div>\n            <div class="bw-stat">\n              <span class="bw-label">Total Raw (Before Compression):</span>\n              <span class="bw-value">').concat(e.bytesOutRawFormatted,'</span>\n            </div>\n            <div class="bw-stat highlight">\n              <span class="bw-label">Bandwidth Saved:</span>\n              <span class="bw-value success-text">').concat(i,'</span>\n            </div>\n            <div class="bw-stat">\n              <span class="bw-label">Packets Sent:</span>\n              <span class="bw-value">').concat(e.packetsOut.toLocaleString(),"</span>\n            </div>\n            "):'\n            <div class="bw-stat">\n              <span class="bw-label">Total Received (Compressed):</span>\n              <span class="bw-value">'.concat(e.bytesInFormatted,'</span>\n            </div>\n            <div class="bw-stat">\n              <span class="bw-label">Packets Received:</span>\n              <span class="bw-value">').concat(e.packetsIn.toLocaleString(),"</span>\n            </div>\n            "),"\n          </div>\n        </div>\n\n        ").concat(this.renderBandwidthChart(e.history,s),"\n      </div>\n    ");n.innerHTML=r}}},{key:"renderBandwidthChart",value:function(t,e){if(!t||t.length<2)return'\n        <div class="bandwidth-chart-placeholder">\n          <p>Collecting data for chart... ('.concat(t?t.length:0,"/2 points)</p>\n        </div>\n      ");var s=Math.max.apply(Math,function(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.map(function(t){return e?t.rateOut:t.rateIn})).concat([1])),a=t.map(function(n,a){var i=a/(t.length-1)*100,r=40-(e?n.rateOut:n.rateIn)/s*40;return"".concat(i,",").concat(r)}).join(" "),i=this.formatBytes(s);return'\n      <div class="bandwidth-chart">\n        <h5>üìà Rate History (Last '.concat(5*t.length,'s)</h5>\n        <div class="chart-container">\n          <svg viewBox="0 0 ').concat(100," ").concat(40,'" class="sparkline" preserveAspectRatio="none">\n            <polyline\n              fill="none"\n              stroke="var(--primary-color)"\n              stroke-width="1.5"\n              points="').concat(a,'"\n            />\n          </svg>\n          <div class="chart-labels">\n            <span class="chart-max">').concat(i,'/s</span>\n            <span class="chart-min">0</span>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"updatePathAnalyticsDisplay",value:function(t){var n=this,e=document.getElementById("pathAnalytics");if(e&&t.pathStats){var s=t.pathStats;if(0!==s.length){var a={};s.forEach(function(t){var n=t.path.split(".")[0];a[n]||(a[n]={paths:[],totalBytes:0,totalCount:0}),a[n].paths.push(t),a[n].totalBytes+=t.bytes,a[n].totalCount+=t.count});var i='\n      <div class="path-analytics-dashboard">\n        <div class="path-summary">\n          <div class="summary-stat">\n            <span class="summary-value">'.concat(s.length,'</span>\n            <span class="summary-label">Active Paths</span>\n          </div>\n          <div class="summary-stat">\n            <span class="summary-value">').concat(Object.keys(a).length,'</span>\n            <span class="summary-label">Categories</span>\n          </div>\n        </div>\n\n        <div class="path-table-container">\n          <table class="path-table">\n            <thead>\n              <tr>\n                <th>Path</th>\n                <th>Updates/min</th>\n                <th>Data Volume</th>\n                <th>% of Total</th>\n              </tr>\n            </thead>\n            <tbody>\n    ');s.slice(0,15).forEach(function(t){var e=Math.max(t.percentage,2);i+='\n        <tr>\n          <td class="path-name" title="'.concat(n.escapeHtml(t.path),'">').concat(n.escapeHtml(t.path),'</td>\n          <td class="path-rate">').concat(t.updatesPerMinute,'</td>\n          <td class="path-bytes">').concat(t.bytesFormatted,'</td>\n          <td class="path-percentage">\n            <div class="percentage-bar-container">\n              <div class="percentage-bar" style="width: ').concat(e,'%"></div>\n              <span class="percentage-text">').concat(t.percentage,"%</span>\n            </div>\n          </td>\n        </tr>\n      ")}),i+="\n            </tbody>\n          </table>\n        </div>\n    ",s.length>15&&(i+='\n        <div class="path-more">\n          <p>Showing top 15 of '.concat(s.length," paths</p>\n        </div>\n      ")),i+="</div>",e.innerHTML=i}else e.innerHTML='\n        <div class="path-analytics-empty">\n          <p>No path data collected yet. Data will appear once deltas are transmitted.</p>\n        </div>\n      '}}},{key:"formatBytes",value:function(t){if(0===t)return"0 B";var n=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,n)).toFixed(2))+" "+["B","KB","MB","GB"][n]}},{key:"escapeHtml",value:function(t){var n=document.createElement("div");return n.textContent=t,n.innerHTML}},{key:"updateStatus",value:function(){var t=document.getElementById("status"),n="<h4>Configuration Status</h4>";if(this.deltaTimerConfig?n+='\n                <div class="status-item">\n                    <strong>Delta Timer:</strong> '.concat(this.deltaTimerConfig.deltaTimer,'ms\n                    <span class="status-indicator success">‚úì Configured</span>\n                </div>\n            '):n+='\n                <div class="status-item">\n                    <strong>Delta Timer:</strong> \n                    <span class="status-indicator warning">‚ö† Not configured</span>\n                </div>\n            ',this.subscriptionConfig&&this.subscriptionConfig.subscribe){var e=this.subscriptionConfig.subscribe.length;n+='\n                <div class="status-item">\n                    <strong>Subscriptions:</strong> '.concat(e,' path(s) configured\n                    <span class="status-indicator success">‚úì Configured</span>\n                </div>\n                <div class="status-details">\n                    <strong>Context:</strong> ').concat(this.subscriptionConfig.context,"<br>\n                    <strong>Paths:</strong> ").concat(this.subscriptionConfig.subscribe.map(function(t){return t.path}).join(", "),"\n                </div>\n            ")}else n+='\n                <div class="status-item">\n                    <strong>Subscriptions:</strong>\n                    <span class="status-indicator warning">‚ö† Not configured</span>\n                </div>\n            ';if(this.sentenceFilterConfig&&this.sentenceFilterConfig.excludedSentences&&this.sentenceFilterConfig.excludedSentences.length>0){var s=this.sentenceFilterConfig.excludedSentences.length;n+='\n                <div class="status-item">\n                    <strong>Sentence Filter:</strong> '.concat(s,' sentence(s) excluded\n                    <span class="status-indicator success">‚úì Configured</span>\n                </div>\n                <div class="status-details">\n                    <strong>Excluded:</strong> ').concat(this.sentenceFilterConfig.excludedSentences.join(", "),"\n                </div>\n            ")}else n+='\n                <div class="status-item">\n                    <strong>Sentence Filter:</strong>\n                    <span class="status-indicator info">‚Ñπ No filters (all sentences transmitted)</span>\n                </div>\n            ';t.innerHTML=n}},{key:"showServerModeUI",value:function(){document.querySelector(".container").innerHTML='\n            <div class="config-section">\n                <div class="card server-mode-card">\n                    <div class="card-header">\n                        <h2>üñ•Ô∏è Server Mode Active</h2>\n                        <p>This plugin is running in Server Mode</p>\n                    </div>\n                    <div class="card-content">\n                        <div class="server-mode-info">\n                            <h3>Server Mode Information</h3>\n                            <p>This SignalK Data Connector instance is configured to <strong>receive encrypted data</strong> from client devices.</p>\n                            \n                            <div class="info-grid">\n                                <div class="info-item">\n                                    <h4>üîß Configuration</h4>\n                                    <p>Server mode configuration is managed through the SignalK server plugin settings. No additional webapp configuration is required.</p>\n                                </div>\n                                \n                                <div class="info-item">\n                                    <h4>üì° Network</h4>\n                                    <p>The server is listening for encrypted UDP data transmissions from client devices on the configured port.</p>\n                                </div>\n                                \n                                <div class="info-item">\n                                    <h4>üîê Security</h4>\n                                    <p>All incoming data is automatically decrypted using the configured secret key and integrated into the SignalK data stream.</p>\n                                </div>\n                                \n                                <div class="info-item">\n                                    <h4>üìä Data Flow</h4>\n                                    <p><strong>Client Devices ‚Üí Server (This Instance) ‚Üí SignalK Data Stream</strong></p>\n                                </div>\n                            </div>\n\n                            <div class="server-status">\n                                <h4>Current Status</h4>\n                                <div class="status-indicator success">‚úì Server is active and listening for client connections</div>\n                            </div>\n\n                            <div id="metrics" class="metrics-section"></div>\n\n                            <div class="configuration-note">\n                                <h4>üí° Need to Configure?</h4>\n                                <p>To modify server settings (UDP port, encryption key, etc.), use the SignalK server\'s plugin configuration interface:</p>\n                                <ol>\n                                    <li>Go to SignalK Admin Panel</li>\n                                    <li>Navigate to Plugin Config</li>\n                                    <li>Find "Signal K Data Connector"</li>\n                                    <li>Adjust settings as needed</li>\n                                </ol>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        '}},{key:"showNotification",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",e=document.getElementById("notification");e.textContent=t,e.className="notification ".concat(n," show"),setTimeout(function(){e.classList.remove("show")},4e3)}}],s&&r(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,s,a,o,c,l,d,u,v}();document.addEventListener("DOMContentLoaded",function(){window.dataConnectorConfig=new c}),document.addEventListener("visibilitychange",function(){document.hidden&&window.dataConnectorConfig&&window.dataConnectorConfig.metricsInterval?(clearInterval(window.dataConnectorConfig.metricsInterval),window.dataConnectorConfig.metricsInterval=null):document.hidden||!window.dataConnectorConfig||window.dataConnectorConfig.metricsInterval||window.dataConnectorConfig.startMetricsRefresh()}),window.addEventListener("beforeunload",function(){window.dataConnectorConfig&&window.dataConnectorConfig.metricsInterval&&(clearInterval(window.dataConnectorConfig.metricsInterval),window.dataConnectorConfig.metricsInterval=null)})})();
//# sourceMappingURL=main.2a37570ca36bad4e8351.js.map