/*! For license information please see main.65fcf8606b3287a9ca41.js.LICENSE.txt */
(()=>{"use strict";var t,e,n={2154:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,s,o=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw a}}return o}}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function o(n,r,a,s){var o=r&&r.prototype instanceof l?r:l,d=Object.create(o.prototype);return i(d,"_invoke",function(n,r,a){var i,s,o,l=0,d=a||[],u=!1,v={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,s=0,o=t,v.n=n,c}};function h(n,r){for(s=n,o=r,e=0;!u&&l&&!a&&e<d.length;e++){var a,i=d[e],h=v.p,p=i[2];n>3?(a=p===r)&&(o=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=h&&((a=n<2&&h<i[1])?(s=0,v.v=r,v.n=i[1]):h<p&&(a=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,v.n=p,s=0))}if(a||n>1)return c;throw u=!0,r}return function(a,d,p){if(l>1)throw TypeError("Generator is already running");for(u&&1===d&&h(d,p),s=d,o=p;(e=s<2?t:o)||!u;){i||(s?s<3?(s>1&&(v.n=-1),h(s,o)):v.n=o:v.v=o);try{if(l=2,i){if(s||(a="next"),e=i[a]){if(!(e=e.call(i,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),s=1);i=t}else if((e=(u=v.n<0)?o:n.call(r,v))!==c)break}catch(e){i=t,s=1,o=e}finally{l=1}}return{value:e,done:u}}}(n,a,s),!0),d}var c={};function l(){}function d(){}function u(){}e=Object.getPrototypeOf;var v=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),h=u.prototype=l.prototype=Object.create(v);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,i(t,s,"GeneratorFunction")),t.prototype=Object.create(h),t}return d.prototype=u,i(h,"constructor",u),i(u,"constructor",d),d.displayName="GeneratorFunction",i(u,s,"GeneratorFunction"),i(h),i(h,s,"Generator"),i(h,r,function(){return this}),i(h,"toString",function(){return"[object Generator]"}),(a=function(){return{w:o,m:p}})()}function i(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}i=function(t,e,n,r){function s(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(s("next",0),s("throw",1),s("return",2))},i(t,e,n,r)}function s(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(r,a)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function o(t){s(i,r,a,o,c,"next",t)}function c(t){s(i,r,a,o,c,"throw",t)}o(void 0)})}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var d="/plugins/signalk-data-connector",u=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return'\n  <div class="config-section">\n    <div class="card">\n      <div class="card-header">\n        <h2>'.concat(t,"</h2>\n        ").concat(e?'<p class="subtitle">'.concat(e,"</p>"):"",'\n      </div>\n      <div class="card-content">\n        <div id="').concat(n,'" class="').concat(r||n+"-info",'">\n          <p>Loading ').concat(t.toLowerCase(),"...</p>\n        </div>\n      </div>\n    </div>\n  </div>\n")},v=function(t,e){return'\n  <div class="stat-item'.concat(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?" error":"",'">\n    <span class="stat-label">').concat(t,':</span>\n    <span class="stat-value">').concat(e,"</span>\n  </div>\n")},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'\n  <div class="metric-item'.concat(n?" "+n:"",'">\n    <div class="metric-label">').concat(t,'</div>\n    <div class="metric-value">').concat(e,"</div>\n  </div>\n")},p=function(t,e){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return'\n  <div class="bw-stat'.concat(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?" highlight":"",'">\n    <span class="bw-label">').concat(t,':</span>\n    <span class="bw-value').concat(n?" success-text":"",'">').concat(e,"</span>\n  </div>\n")},f=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.deltaTimerConfig=null,this.subscriptionConfig=null,this.sentenceFilterConfig=null,this.isServerMode=!1,this.metricsInterval=null,this.syncTimeout=null,this.init()},i=[{key:"init",value:(b=o(a().m(function t(){var e;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.checkServerMode();case 1:if(!this.isServerMode){t.n=3;break}return this.showServerModeUI(),t.n=2,this.loadMetrics();case 2:this.startMetricsRefresh(),t.n=6;break;case 3:return t.n=4,this.loadConfigurations();case 4:return this.setupEventListeners(),this.updateUI(),this.updateStatus(),t.n=5,this.loadMetrics();case 5:this.startMetricsRefresh();case 6:t.n=8;break;case 7:t.p=7,e=t.v,console.error("Initialization error:",e),this.showNotification("Failed to initialize application: "+e.message,"error");case 8:return t.a(2)}},t,this,[[0,7]])})),function(){return b.apply(this,arguments)})},{key:"checkServerMode",value:(y=o(a().m(function t(){var e;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fetch("".concat(d,"/config/delta_timer.json"));case 1:e=t.v,this.isServerMode=!e.ok&&(404===e.status||405===e.status),t.n=3;break;case 2:t.p=2,t.v,this.isServerMode=!0;case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return y.apply(this,arguments)})},{key:"loadConfigurations",value:(g=o(a().m(function t(){var n,r,i,s,o,c;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,Promise.all([fetch("".concat(d,"/config/delta_timer.json")),fetch("".concat(d,"/config/subscription.json")),fetch("".concat(d,"/config/sentence_filter.json"))]);case 1:if(n=t.v,r=e(n,3),i=r[0],s=r[1],o=r[2],!i.ok){t.n=3;break}return t.n=2,i.json();case 2:this.deltaTimerConfig=t.v;case 3:if(!s.ok){t.n=5;break}return t.n=4,s.json();case 4:this.subscriptionConfig=t.v;case 5:if(!o.ok){t.n=7;break}return t.n=6,o.json();case 6:this.sentenceFilterConfig=t.v;case 7:t.n=9;break;case 8:t.p=8,c=t.v,this.showNotification("Error loading configurations: "+c.message,"error");case 9:return t.a(2)}},t,this,[[0,8]])})),function(){return g.apply(this,arguments)})},{key:"setupEventListeners",value:function(){var t=this;document.getElementById("saveDeltaTimer").addEventListener("click",function(){t.saveDeltaTimer()}),document.getElementById("saveSubscription").addEventListener("click",function(){t.saveSubscription()}),document.getElementById("saveSentenceFilter").addEventListener("click",function(){t.saveSentenceFilter()}),document.getElementById("addPath").addEventListener("click",function(){t.addPathItem()}),document.getElementById("subscriptionJson").addEventListener("input",function(){t.syncTimeout&&clearTimeout(t.syncTimeout),t.syncTimeout=setTimeout(function(){t.syncFromJson()},300)}),document.getElementById("context").addEventListener("input",function(){t.updateJsonFromForm()})}},{key:"updateUI",value:function(){var t=this;this.deltaTimerConfig&&this.deltaTimerConfig.deltaTimer&&(document.getElementById("deltaTimer").value=this.deltaTimerConfig.deltaTimer),this.subscriptionConfig&&(document.getElementById("context").value=this.subscriptionConfig.context||"*",document.getElementById("pathsList").innerHTML="",this.subscriptionConfig.subscribe&&Array.isArray(this.subscriptionConfig.subscribe)&&this.subscriptionConfig.subscribe.forEach(function(e){t.addPathItem(e.path)}),document.getElementById("subscriptionJson").value=JSON.stringify(this.subscriptionConfig,null,2)),this.sentenceFilterConfig&&Array.isArray(this.sentenceFilterConfig.excludedSentences)&&(document.getElementById("sentenceFilter").value=this.sentenceFilterConfig.excludedSentences.join(", "))}},{key:"addPathItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=document.getElementById("pathsList"),r=document.createElement("div");r.className="path-item";var a=document.createElement("input");a.type="text",a.value=e,a.placeholder="navigation.position",a.className="path-input";var i=document.createElement("button");i.type="button",i.className="btn btn-danger",i.textContent="Remove",a.addEventListener("input",function(){t.updateJsonFromForm()}),i.addEventListener("click",function(){r.remove(),t.updateJsonFromForm()}),r.appendChild(a),r.appendChild(i),n.appendChild(r),this.updateJsonFromForm()}},{key:"updateJsonFromForm",value:function(){var t=document.getElementById("context").value||"*",e=document.querySelectorAll(".path-input"),n={context:t,subscribe:Array.from(e).map(function(t){return{path:t.value}}).filter(function(t){return""!==t.path.trim()})};document.getElementById("subscriptionJson").value=JSON.stringify(n,null,2)}},{key:"syncFromJson",value:function(){var t=this;try{var e=document.getElementById("subscriptionJson").value,n=JSON.parse(e);document.getElementById("context").value=n.context||"*",document.getElementById("pathsList").innerHTML="",n.subscribe&&Array.isArray(n.subscribe)&&n.subscribe.forEach(function(e){t.addPathItem(e.path||"")})}catch(t){console.warn("Invalid JSON in editor:",t.message)}}},{key:"saveDeltaTimer",value:(m=o(a().m(function t(){var e,n,r;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e=parseInt(document.getElementById("deltaTimer").value),!(isNaN(e)||e<100||e>1e4)){t.n=1;break}return this.showNotification("Delta timer must be between ".concat(100," and ").concat(1e4," milliseconds"),"error"),t.a(2);case 1:return n={deltaTimer:e},t.p=2,t.n=3,fetch("".concat(d,"/config/delta_timer.json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if(!t.v.ok){t.n=4;break}this.deltaTimerConfig=n,this.showNotification("Delta timer configuration saved successfully!","success"),this.updateStatus(),t.n=5;break;case 4:throw new Error("Failed to save configuration");case 5:t.n=7;break;case 6:t.p=6,r=t.v,this.showNotification("Error saving delta timer: "+r.message,"error");case 7:return t.a(2)}},t,this,[[2,6]])})),function(){return m.apply(this,arguments)})},{key:"saveSubscription",value:(f=o(a().m(function t(){var e,n,r;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,e=document.getElementById("subscriptionJson").value,(n=JSON.parse(e)).context){t.n=1;break}throw new Error("Context is required");case 1:if(n.subscribe&&Array.isArray(n.subscribe)){t.n=2;break}throw new Error("Subscribe array is required");case 2:return t.n=3,fetch("".concat(d,"/config/subscription.json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if(!t.v.ok){t.n=4;break}this.subscriptionConfig=n,this.showNotification("Subscription configuration saved successfully!","success"),this.updateStatus(),t.n=5;break;case 4:throw new Error("Failed to save configuration");case 5:t.n=7;break;case 6:t.p=6,r=t.v,this.showNotification("Error saving subscription: "+r.message,"error");case 7:return t.a(2)}},t,this,[[0,6]])})),function(){return f.apply(this,arguments)})},{key:"saveSentenceFilter",value:(l=o(a().m(function t(){var e,n,r,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e=document.getElementById("sentenceFilter").value,n=e.split(",").map(function(t){return t.trim().toUpperCase()}).filter(function(t){return t.length>0}),r={excludedSentences:n},t.n=1,fetch("".concat(d,"/config/sentence_filter.json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 1:if(!t.v.ok){t.n=2;break}this.sentenceFilterConfig=r,this.showNotification("Sentence filter saved successfully!","success"),this.updateStatus(),t.n=3;break;case 2:throw new Error("Failed to save configuration");case 3:t.n=5;break;case 4:t.p=4,i=t.v,this.showNotification("Error saving sentence filter: "+i.message,"error");case 5:return t.a(2)}},t,this,[[0,4]])})),function(){return l.apply(this,arguments)})},{key:"loadMetrics",value:(s=o(a().m(function t(){var e,n,r;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fetch("".concat(d,"/metrics"));case 1:if(!(e=t.v).ok){t.n=3;break}return t.n=2,e.json();case 2:n=t.v,this.updateMetricsDisplay(n);case 3:t.n=5;break;case 4:t.p=4,r=t.v,console.error("Error loading metrics:",r.message);case 5:return t.a(2)}},t,this,[[0,4]])})),function(){return s.apply(this,arguments)})},{key:"startMetricsRefresh",value:function(){var t=this;this.metricsInterval&&clearInterval(this.metricsInterval),this.metricsInterval=setInterval(function(){t.loadMetrics()},15e3)}},{key:"updateMetricsDisplay",value:function(t){this.updateBandwidthDisplay(t),this.updatePathAnalyticsDisplay(t);var e=document.getElementById("metrics");if(e){var n="client"===t.mode,r=t.stats,a=t.status,i=t.uptime,s=r.udpSendErrors>0||r.compressionErrors>0||r.encryptionErrors>0||r.subscriptionErrors>0,o=[h("Uptime",i.formatted),h("Mode",n?"üì± Client":"üñ•Ô∏è Server"),h("Status",a.readyToSend?"‚úì Ready":"‚úó Not Ready",a.readyToSend?"success":"error"),n?h("Buffered Deltas",a.deltasBuffered):""].join(""),c=[n?v("Deltas Sent",r.deltasSent.toLocaleString()):v("Deltas Received",r.deltasReceived.toLocaleString()),n?v("UDP Send Errors",r.udpSendErrors,r.udpSendErrors>0):"",n?v("UDP Retries",r.udpRetries):"",v("Compression Errors",r.compressionErrors,r.compressionErrors>0),v("Encryption Errors",r.encryptionErrors,r.encryptionErrors>0),n?v("Subscription Errors",r.subscriptionErrors,r.subscriptionErrors>0):""].join(""),l='\n      <h4>üìä Performance Metrics</h4>\n      <div class="metrics-grid">'.concat(o,'</div>\n      <div class="metrics-stats">\n        <h5>Transmission Statistics</h5>\n        <div class="stats-grid">').concat(c,"</div>\n      </div>\n    ");if(n&&t.smartBatching){var d=t.smartBatching,u=d.earlySends+d.timerSends,p=u>0?Math.round(d.earlySends/u*100):0;l+='\n        <div class="metrics-stats">\n          <h5>üì¶ Smart Batching</h5>\n          <div class="stats-grid">\n            '.concat(v("Avg Bytes/Delta",d.avgBytesPerDelta+" bytes"),"\n            ").concat(v("Max Deltas/Batch",d.maxDeltasPerBatch),"\n            ").concat(v("Early Sends",d.earlySends.toLocaleString()+" ("+p+"%)"),"\n            ").concat(v("Timer Sends",d.timerSends.toLocaleString()),"\n            ").concat(v("Oversized Packets",d.oversizedPackets,d.oversizedPackets>0),"\n          </div>\n        </div>\n      ")}if(t.lastError){var f=t.lastError.timeAgo,m=f<6e4?"".concat(Math.floor(f/1e3),"s ago"):"".concat(Math.floor(f/6e4),"m ago");l+='\n        <div class="metrics-error">\n          <h5>‚ö†Ô∏è Last Error</h5>\n          <div class="error-message">'.concat(this.escapeHtml(t.lastError.message),'</div>\n          <div class="error-time">Occurred ').concat(m,"</div>\n        </div>\n      ")}else s||(l+='\n        <div class="metrics-success">\n          <div class="success-message">‚úì No errors detected</div>\n        </div>\n      ');e.innerHTML=l}}},{key:"updateBandwidthDisplay",value:function(t){var e=document.getElementById("bandwidth");if(e&&t.bandwidth){var n=t.bandwidth,r="client"===t.mode,a=r?n.bytesOutRaw-n.bytesOut:n.bytesInRaw-n.bytesIn,i=this.formatBytes(a>0?a:0),s=r?[p("Total Sent (Compressed)",n.bytesOutFormatted),p("Total Raw (Before Compression)",n.bytesOutRawFormatted),p("Bandwidth Saved",i,!0,!0),p("Packets Sent",n.packetsOut.toLocaleString())]:[p("Total Received (Compressed)",n.bytesInFormatted),p("Total Raw (After Decompression)",this.formatBytes(n.bytesInRaw||0)),p("Bandwidth Saved",i,!0,!0),p("Packets Received",n.packetsIn.toLocaleString())],o='\n      <div class="bandwidth-dashboard">\n        <div class="bandwidth-hero">\n          <div class="hero-stat '.concat(r?"primary":"secondary",'">\n            <div class="hero-value">').concat(r?n.rateOutFormatted:n.rateInFormatted,'</div>\n            <div class="hero-label">').concat(r?"Upload Rate":"Download Rate",'</div>\n          </div>\n          <div class="hero-stat success">\n            <div class="hero-value">').concat(n.compressionRatio,'%</div>\n            <div class="hero-label">Compression Ratio</div>\n          </div>\n          <div class="hero-stat">\n            <div class="hero-value">').concat(n.avgPacketSizeFormatted,'</div>\n            <div class="hero-label">Avg Packet Size</div>\n          </div>\n        </div>\n\n        <div class="bandwidth-details">\n          <h5>üìä Bandwidth Details</h5>\n          <div class="bandwidth-grid">').concat(s.join(""),"</div>\n        </div>\n\n        ").concat(this.renderBandwidthChart(n.history,r),"\n      </div>\n    ");e.innerHTML=o}}},{key:"renderBandwidthChart",value:function(t,e){if(!t||t.length<2)return'\n        <div class="bandwidth-chart-placeholder">\n          <p>Collecting data for chart... ('.concat(t?t.length:0,"/2 points)</p>\n        </div>\n      ");var a=Math.max.apply(Math,function(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.map(function(t){return e?t.rateOut:t.rateIn})).concat([1])),i=t.map(function(n,r){var i=r/(t.length-1)*100,s=40-(e?n.rateOut:n.rateIn)/a*40;return"".concat(i,",").concat(s)}).join(" "),s=this.formatBytes(a);return'\n      <div class="bandwidth-chart">\n        <h5>üìà Rate History (Last '.concat(15*t.length,'s)</h5>\n        <div class="chart-container">\n          <svg viewBox="0 0 ').concat(100," ").concat(40,'" class="sparkline" preserveAspectRatio="none">\n            <polyline\n              fill="none"\n              stroke="var(--primary-color)"\n              stroke-width="1.5"\n              points="').concat(i,'"\n            />\n          </svg>\n          <div class="chart-labels">\n            <span class="chart-max">').concat(s,'/s</span>\n            <span class="chart-min">0</span>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"updatePathAnalyticsDisplay",value:function(t){var e=this,n=document.getElementById("pathAnalytics");if(n&&t.pathStats){var r=t.pathStats;if(0!==r.length){var a=new Set(r.map(function(t){return t.path.split(".")[0]})).size,i='\n      <div class="path-analytics-dashboard">\n        <div class="path-summary">\n          <div class="summary-stat">\n            <span class="summary-value">'.concat(r.length,'</span>\n            <span class="summary-label">Active Paths</span>\n          </div>\n          <div class="summary-stat">\n            <span class="summary-value">').concat(a,'</span>\n            <span class="summary-label">Categories</span>\n          </div>\n        </div>\n\n        <div class="path-table-container">\n          <table class="path-table">\n            <thead>\n              <tr>\n                <th>Path</th>\n                <th>Updates/min</th>\n                <th>Data Volume</th>\n                <th>% of Total</th>\n              </tr>\n            </thead>\n            <tbody>\n    ');r.slice(0,15).forEach(function(t){var n=Math.max(t.percentage,2);i+='\n        <tr>\n          <td class="path-name" title="'.concat(e.escapeHtml(t.path),'">').concat(e.escapeHtml(t.path),'</td>\n          <td class="path-rate">').concat(t.updatesPerMinute,'</td>\n          <td class="path-bytes">').concat(t.bytesFormatted,'</td>\n          <td class="path-percentage">\n            <div class="percentage-bar-container">\n              <div class="percentage-bar" style="width: ').concat(n,'%"></div>\n              <span class="percentage-text">').concat(t.percentage,"%</span>\n            </div>\n          </td>\n        </tr>\n      ")}),i+="\n            </tbody>\n          </table>\n        </div>\n    ",r.length>15&&(i+='\n        <div class="path-more">\n          <p>Showing top 15 of '.concat(r.length," paths</p>\n        </div>\n      ")),i+="</div>",n.innerHTML=i}else n.innerHTML='\n        <div class="path-analytics-empty">\n          <p>No path data collected yet. Data will appear once deltas are transmitted.</p>\n        </div>\n      '}}},{key:"formatBytes",value:function(t){if(!t||t<=0)return"0 B";var e=["B","KB","MB","GB"],n=Math.min(Math.floor(Math.log(t)/Math.log(1024)),e.length-1);return parseFloat((t/Math.pow(1024,n)).toFixed(2))+" "+e[n]}},{key:"escapeHtml",value:function(t){var e=document.createElement("div");return e.textContent=t,e.innerHTML}},{key:"updateStatus",value:function(){var t=this,e=document.getElementById("status"),n="<h4>Configuration Status</h4>";if(this.deltaTimerConfig?n+='\n                <div class="status-item">\n                    <strong>Delta Timer:</strong> '.concat(this.escapeHtml(String(this.deltaTimerConfig.deltaTimer)),'ms\n                    <span class="status-indicator success">‚úì Configured</span>\n                </div>\n            '):n+='\n                <div class="status-item">\n                    <strong>Delta Timer:</strong>\n                    <span class="status-indicator warning">‚ö† Not configured</span>\n                </div>\n            ',this.subscriptionConfig&&this.subscriptionConfig.subscribe){var r=this.subscriptionConfig.subscribe.length,a=this.escapeHtml(this.subscriptionConfig.context||""),i=this.subscriptionConfig.subscribe.map(function(e){return t.escapeHtml(e.path)}).join(", ");n+='\n                <div class="status-item">\n                    <strong>Subscriptions:</strong> '.concat(r,' path(s) configured\n                    <span class="status-indicator success">‚úì Configured</span>\n                </div>\n                <div class="status-details">\n                    <strong>Context:</strong> ').concat(a,"<br>\n                    <strong>Paths:</strong> ").concat(i,"\n                </div>\n            ")}else n+='\n                <div class="status-item">\n                    <strong>Subscriptions:</strong>\n                    <span class="status-indicator warning">‚ö† Not configured</span>\n                </div>\n            ';if(this.sentenceFilterConfig&&this.sentenceFilterConfig.excludedSentences&&this.sentenceFilterConfig.excludedSentences.length>0){var s=this.sentenceFilterConfig.excludedSentences.length,o=this.sentenceFilterConfig.excludedSentences.map(function(e){return t.escapeHtml(e)}).join(", ");n+='\n                <div class="status-item">\n                    <strong>Sentence Filter:</strong> '.concat(s,' sentence(s) excluded\n                    <span class="status-indicator success">‚úì Configured</span>\n                </div>\n                <div class="status-details">\n                    <strong>Excluded:</strong> ').concat(o,"\n                </div>\n            ")}else n+='\n                <div class="status-item">\n                    <strong>Sentence Filter:</strong>\n                    <span class="status-indicator info">‚Ñπ No filters (all sentences transmitted)</span>\n                </div>\n            ';e.innerHTML=n}},{key:"showServerModeUI",value:function(){document.querySelector(".container").innerHTML='\n      <div class="config-section">\n        <div class="card server-mode-card">\n          <div class="card-header">\n            <h2>Server Mode Active</h2>\n            <p>This plugin is running in Server Mode - receiving data from clients</p>\n          </div>\n          <div class="card-content">\n            <div class="server-mode-info">\n              <div class="info-grid compact">\n                <div class="info-item">\n                  <h4>Configuration</h4>\n                  <p>Managed through SignalK plugin settings</p>\n                </div>\n                <div class="info-item">\n                  <h4>Data Flow</h4>\n                  <p>Client Devices ‚Üí Server ‚Üí SignalK</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    '+u("Bandwidth Monitor","Network reception statistics","bandwidth")+u("Path Analytics","Incoming data volume by SignalK path","pathAnalytics")+u("Performance Metrics","Real-time reception statistics (auto-refreshes every 15 seconds)","metrics")}},{key:"showNotification",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=document.getElementById("notification");n.textContent=t,n.className="notification ".concat(e," show"),setTimeout(function(){n.classList.remove("show")},4e3)}}],i&&c(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,s,l,f,m,g,y,b}();document.addEventListener("DOMContentLoaded",function(){window.dataConnectorConfig=new f}),document.addEventListener("visibilitychange",function(){window.dataConnectorConfig&&(document.hidden?window.dataConnectorConfig.metricsInterval&&(clearInterval(window.dataConnectorConfig.metricsInterval),window.dataConnectorConfig.metricsInterval=null):window.dataConnectorConfig.metricsInterval||(window.dataConnectorConfig.loadMetrics(),window.dataConnectorConfig.startMetricsRefresh()))}),window.addEventListener("beforeunload",function(){window.dataConnectorConfig&&window.dataConnectorConfig.metricsInterval&&(clearInterval(window.dataConnectorConfig.metricsInterval),window.dataConnectorConfig.metricsInterval=null)})}},r={};function a(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t](i,i.exports,a),i.exports}a.m=n,a.c=r,a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce((e,n)=>(a.f[n](t,e),e),[])),a.u=t=>t+".3572ec18e3cabaecbfaf.js",a.miniCssF=t=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="signalk-data-connector:",a.l=(n,r,i,s)=>{if(t[n])t[n].push(r);else{var o,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==e+i){o=u;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",e+i),o.src=n),t[n]=[r];var v=(e,r)=>{o.onerror=o.onload=null,clearTimeout(h);var a=t[n];if(delete t[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(t=>t(r)),e)return e(r)},h=setTimeout(v.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=v.bind(null,o.onerror),o.onload=v.bind(null,o.onload),c&&document.head.appendChild(o)}},(()=>{a.S={};var t={},e={};a.I=(n,r)=>{r||(r=[]);var i=e[n];if(i||(i=e[n]={}),!(r.indexOf(i)>=0)){if(r.push(i),t[n])return t[n];a.o(a.S,n)||(a.S[n]={});var s=a.S[n],o="signalk-data-connector",c=[];return"default"===n&&((t,e,n,r)=>{var i=s[t]=s[t]||{},c=i[e];(!c||!c.loaded&&(1!=!c.eager?r:o>c.from))&&(i[e]={get:()=>a.e(540).then(()=>()=>a(6540)),from:o,eager:!1})})("react","16.14.0"),t[n]=c.length?Promise.all(c).then(()=>t[n]=1):1}}})(),(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{var t={792:0};a.f.j=(e,n)=>{var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((n,a)=>r=t[e]=[n,a]);n.push(r[2]=i);var s=a.p+a.u(e),o=new Error;a.l(s,n=>{if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,r[1](o)}},"chunk-"+e,e)}};var e=(e,n)=>{var r,i,[s,o,c]=n,l=0;if(s.some(e=>0!==t[e])){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);c&&c(a)}for(e&&e(n);l<s.length;l++)i=s[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunksignalk_data_connector=self.webpackChunksignalk_data_connector||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),a(2154)})();
//# sourceMappingURL=main.65fcf8606b3287a9ca41.js.map