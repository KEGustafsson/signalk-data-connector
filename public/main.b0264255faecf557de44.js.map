{"version":3,"file":"main.b0264255faecf557de44.js","mappings":"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","sources":["webpack://signalk-data-connector/./src/webapp/index.js"],"sourcesContent":["import \"./styles.css\";\r\n\r\n// Constants\r\nconst DELTA_TIMER_MIN = 100;\r\nconst DELTA_TIMER_MAX = 10000;\r\nconst NOTIFICATION_TIMEOUT = 4000;\r\nconst METRICS_REFRESH_INTERVAL = 5000; // 5 seconds\r\n\r\nclass DataConnectorConfig {\r\n  constructor() {\r\n    this.deltaTimerConfig = null;\r\n    this.subscriptionConfig = null;\r\n    this.sentenceFilterConfig = null;\r\n    this.isServerMode = false;\r\n    this.metricsInterval = null;\r\n    this.init();\r\n  }\r\n\r\n  async init() {\r\n    try {\r\n      await this.checkServerMode();\r\n      if (this.isServerMode) {\r\n        this.showServerModeUI();\r\n        await this.loadMetrics(); // Load metrics for server mode\r\n        this.startMetricsRefresh(); // Start auto-refresh\r\n      } else {\r\n        await this.loadConfigurations();\r\n        this.setupEventListeners();\r\n        this.updateUI();\r\n        this.updateStatus();\r\n        await this.loadMetrics(); // Load metrics for client mode\r\n        this.startMetricsRefresh(); // Start auto-refresh\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Initialization error:\", error);\r\n      this.showNotification(\"Failed to initialize application: \" + error.message, \"error\");\r\n    }\r\n  }\r\n\r\n  async checkServerMode() {\r\n    try {\r\n      // Try to access the configuration API\r\n      const response = await fetch(\"/plugins/signalk-data-connector/config/delta_timer.json\");\r\n      this.isServerMode = !response.ok && (response.status === 404 || response.status === 405);\r\n    } catch (error) {\r\n      // If fetch fails completely, assume server mode\r\n      this.isServerMode = true;\r\n    }\r\n  }\r\n\r\n  async loadConfigurations() {\r\n    try {\r\n      // Load delta timer configuration\r\n      const deltaResponse = await fetch(\"/plugins/signalk-data-connector/config/delta_timer.json\");\r\n      this.deltaTimerConfig = await deltaResponse.json();\r\n\r\n      // Load subscription configuration\r\n      const subResponse = await fetch(\"/plugins/signalk-data-connector/config/subscription.json\");\r\n      this.subscriptionConfig = await subResponse.json();\r\n\r\n      // Load sentence filter configuration\r\n      const filterResponse = await fetch(\"/plugins/signalk-data-connector/config/sentence_filter.json\");\r\n      this.sentenceFilterConfig = await filterResponse.json();\r\n    } catch (error) {\r\n      this.showNotification(\"Error loading configurations: \" + error.message, \"error\");\r\n    }\r\n  }\r\n\r\n  setupEventListeners() {\r\n    // Delta timer save button\r\n    document.getElementById(\"saveDeltaTimer\").addEventListener(\"click\", () => {\r\n      this.saveDeltaTimer();\r\n    });\r\n\r\n    // Subscription save button\r\n    document.getElementById(\"saveSubscription\").addEventListener(\"click\", () => {\r\n      this.saveSubscription();\r\n    });\r\n\r\n    // Sentence filter save button\r\n    document.getElementById(\"saveSentenceFilter\").addEventListener(\"click\", () => {\r\n      this.saveSentenceFilter();\r\n    });\r\n\r\n    // Add path button\r\n    document.getElementById(\"addPath\").addEventListener(\"click\", () => {\r\n      this.addPathItem();\r\n    });\r\n\r\n    // JSON editor sync\r\n    document.getElementById(\"subscriptionJson\").addEventListener(\"input\", () => {\r\n      this.syncFromJson();\r\n    });\r\n\r\n    // Context input change\r\n    document.getElementById(\"context\").addEventListener(\"input\", () => {\r\n      this.updateJsonFromForm();\r\n    });\r\n  }\r\n\r\n  updateUI() {\r\n    // Update delta timer input\r\n    if (this.deltaTimerConfig && this.deltaTimerConfig.deltaTimer) {\r\n      document.getElementById(\"deltaTimer\").value = this.deltaTimerConfig.deltaTimer;\r\n    }\r\n\r\n    // Update subscription configuration\r\n    if (this.subscriptionConfig) {\r\n      document.getElementById(\"context\").value = this.subscriptionConfig.context || \"*\";\r\n\r\n      // Clear existing paths\r\n      document.getElementById(\"pathsList\").innerHTML = \"\";\r\n\r\n      // Add subscription paths\r\n      if (this.subscriptionConfig.subscribe && Array.isArray(this.subscriptionConfig.subscribe)) {\r\n        this.subscriptionConfig.subscribe.forEach((sub) => {\r\n          this.addPathItem(sub.path);\r\n        });\r\n      }\r\n\r\n      // Update JSON editor\r\n      document.getElementById(\"subscriptionJson\").value = JSON.stringify(\r\n        this.subscriptionConfig,\r\n        null,\r\n        2\r\n      );\r\n    }\r\n\r\n    // Update sentence filter input\r\n    if (this.sentenceFilterConfig && Array.isArray(this.sentenceFilterConfig.excludedSentences)) {\r\n      document.getElementById(\"sentenceFilter\").value =\r\n        this.sentenceFilterConfig.excludedSentences.join(\", \");\r\n    }\r\n  }\r\n\r\n  addPathItem(path = \"\") {\r\n    const pathsList = document.getElementById(\"pathsList\");\r\n    const pathItem = document.createElement(\"div\");\r\n    pathItem.className = \"path-item\";\r\n\r\n    // Create elements safely to prevent XSS\r\n    const input = document.createElement(\"input\");\r\n    input.type = \"text\";\r\n    input.value = path; // Safe: value property is automatically escaped\r\n    input.placeholder = \"navigation.position\";\r\n    input.className = \"path-input\";\r\n\r\n    const button = document.createElement(\"button\");\r\n    button.type = \"button\";\r\n    button.className = \"btn btn-danger\";\r\n    button.textContent = \"Remove\";\r\n\r\n    // Add event listeners\r\n    input.addEventListener(\"input\", () => {\r\n      this.updateJsonFromForm();\r\n    });\r\n\r\n    button.addEventListener(\"click\", () => {\r\n      pathItem.remove();\r\n      this.updateJsonFromForm();\r\n    });\r\n\r\n    pathItem.appendChild(input);\r\n    pathItem.appendChild(button);\r\n    pathsList.appendChild(pathItem);\r\n    this.updateJsonFromForm();\r\n  }\r\n\r\n  updateJsonFromForm() {\r\n    const context = document.getElementById(\"context\").value || \"*\";\r\n    const pathInputs = document.querySelectorAll(\".path-input\");\r\n    const subscribe = Array.from(pathInputs)\r\n      .map((input) => ({ path: input.value }))\r\n      .filter((sub) => sub.path.trim() !== \"\");\r\n\r\n    const config = {\r\n      context: context,\r\n      subscribe: subscribe\r\n    };\r\n\r\n    document.getElementById(\"subscriptionJson\").value = JSON.stringify(config, null, 2);\r\n  }\r\n\r\n  syncFromJson() {\r\n    try {\r\n      const jsonText = document.getElementById(\"subscriptionJson\").value;\r\n      const config = JSON.parse(jsonText);\r\n\r\n      // Update context\r\n      document.getElementById(\"context\").value = config.context || \"*\";\r\n\r\n      // Update paths\r\n      const pathsList = document.getElementById(\"pathsList\");\r\n      pathsList.innerHTML = \"\";\r\n\r\n      if (config.subscribe && Array.isArray(config.subscribe)) {\r\n        config.subscribe.forEach((sub) => {\r\n          this.addPathItem(sub.path || \"\");\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // Invalid JSON, don't update form\r\n      console.warn(\"Invalid JSON in editor:\", error.message);\r\n    }\r\n  }\r\n\r\n  async saveDeltaTimer() {\r\n    const deltaTimer = parseInt(document.getElementById(\"deltaTimer\").value);\r\n\r\n    if (isNaN(deltaTimer) || deltaTimer < DELTA_TIMER_MIN || deltaTimer > DELTA_TIMER_MAX) {\r\n      this.showNotification(\r\n        `Delta timer must be between ${DELTA_TIMER_MIN} and ${DELTA_TIMER_MAX} milliseconds`,\r\n        \"error\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    const config = { deltaTimer: deltaTimer };\r\n\r\n    try {\r\n      const response = await fetch(\"/plugins/signalk-data-connector/config/delta_timer.json\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(config)\r\n      });\r\n\r\n      if (response.ok) {\r\n        this.deltaTimerConfig = config;\r\n        this.showNotification(\"Delta timer configuration saved successfully!\", \"success\");\r\n        this.updateStatus();\r\n      } else {\r\n        throw new Error(\"Failed to save configuration\");\r\n      }\r\n    } catch (error) {\r\n      this.showNotification(\"Error saving delta timer: \" + error.message, \"error\");\r\n    }\r\n  }\r\n\r\n  async saveSubscription() {\r\n    try {\r\n      const jsonText = document.getElementById(\"subscriptionJson\").value;\r\n      const config = JSON.parse(jsonText);\r\n\r\n      // Validate configuration\r\n      if (!config.context) {\r\n        throw new Error(\"Context is required\");\r\n      }\r\n\r\n      if (!config.subscribe || !Array.isArray(config.subscribe)) {\r\n        throw new Error(\"Subscribe array is required\");\r\n      }\r\n\r\n      const response = await fetch(\"/plugins/signalk-data-connector/config/subscription.json\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(config)\r\n      });\r\n\r\n      if (response.ok) {\r\n        this.subscriptionConfig = config;\r\n        this.showNotification(\"Subscription configuration saved successfully!\", \"success\");\r\n        this.updateStatus();\r\n      } else {\r\n        throw new Error(\"Failed to save configuration\");\r\n      }\r\n    } catch (error) {\r\n      this.showNotification(\"Error saving subscription: \" + error.message, \"error\");\r\n    }\r\n  }\r\n\r\n  async saveSentenceFilter() {\r\n    try {\r\n      const filterInput = document.getElementById(\"sentenceFilter\").value;\r\n\r\n      // Parse comma-separated list, trim whitespace, filter empty values, uppercase\r\n      const excludedSentences = filterInput\r\n        .split(\",\")\r\n        .map((s) => s.trim().toUpperCase())\r\n        .filter((s) => s.length > 0);\r\n\r\n      const config = { excludedSentences: excludedSentences };\r\n\r\n      const response = await fetch(\"/plugins/signalk-data-connector/config/sentence_filter.json\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(config)\r\n      });\r\n\r\n      if (response.ok) {\r\n        this.sentenceFilterConfig = config;\r\n        this.showNotification(\"Sentence filter saved successfully!\", \"success\");\r\n        this.updateStatus();\r\n      } else {\r\n        throw new Error(\"Failed to save configuration\");\r\n      }\r\n    } catch (error) {\r\n      this.showNotification(\"Error saving sentence filter: \" + error.message, \"error\");\r\n    }\r\n  }\r\n\r\n  async loadMetrics() {\r\n    try {\r\n      const response = await fetch(\"/plugins/signalk-data-connector/metrics\");\r\n      if (response.ok) {\r\n        const metrics = await response.json();\r\n        this.updateMetricsDisplay(metrics);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading metrics:\", error.message);\r\n    }\r\n  }\r\n\r\n  startMetricsRefresh() {\r\n    // Clear any existing interval\r\n    if (this.metricsInterval) {\r\n      clearInterval(this.metricsInterval);\r\n    }\r\n\r\n    // Refresh metrics every 5 seconds\r\n    this.metricsInterval = setInterval(() => {\r\n      this.loadMetrics();\r\n    }, METRICS_REFRESH_INTERVAL);\r\n  }\r\n\r\n  updateMetricsDisplay(metrics) {\r\n    // Update bandwidth display\r\n    this.updateBandwidthDisplay(metrics);\r\n\r\n    // Update path analytics display\r\n    this.updatePathAnalyticsDisplay(metrics);\r\n\r\n    // Update general metrics\r\n    const metricsDiv = document.getElementById(\"metrics\");\r\n    if (!metricsDiv) {\r\n      return;\r\n    }\r\n\r\n    const hasErrors =\r\n      metrics.stats.udpSendErrors > 0 ||\r\n      metrics.stats.compressionErrors > 0 ||\r\n      metrics.stats.encryptionErrors > 0 ||\r\n      metrics.stats.subscriptionErrors > 0;\r\n\r\n    let metricsHtml = `\r\n      <h4>üìä Performance Metrics</h4>\r\n      <div class=\"metrics-grid\">\r\n        <div class=\"metric-item\">\r\n          <div class=\"metric-label\">Uptime</div>\r\n          <div class=\"metric-value\">${metrics.uptime.formatted}</div>\r\n        </div>\r\n        <div class=\"metric-item\">\r\n          <div class=\"metric-label\">Mode</div>\r\n          <div class=\"metric-value\">${metrics.mode === \"server\" ? \"üñ•Ô∏è Server\" : \"üì± Client\"}</div>\r\n        </div>\r\n        <div class=\"metric-item ${metrics.status.readyToSend ? \"success\" : \"error\"}\">\r\n          <div class=\"metric-label\">Status</div>\r\n          <div class=\"metric-value\">${metrics.status.readyToSend ? \"‚úì Ready\" : \"‚úó Not Ready\"}</div>\r\n        </div>\r\n        ${\r\n  metrics.mode === \"client\"\r\n    ? `\r\n        <div class=\"metric-item\">\r\n          <div class=\"metric-label\">Buffered Deltas</div>\r\n          <div class=\"metric-value\">${metrics.status.deltasBuffered}</div>\r\n        </div>\r\n        `\r\n    : \"\"\r\n}\r\n      </div>\r\n\r\n      <div class=\"metrics-stats\">\r\n        <h5>Transmission Statistics</h5>\r\n        <div class=\"stats-grid\">\r\n          ${\r\n  metrics.mode === \"client\"\r\n    ? `\r\n          <div class=\"stat-item\">\r\n            <span class=\"stat-label\">Deltas Sent:</span>\r\n            <span class=\"stat-value\">${metrics.stats.deltasSent.toLocaleString()}</span>\r\n          </div>\r\n          `\r\n    : \"\"\r\n}\r\n          ${\r\n  metrics.mode === \"server\"\r\n    ? `\r\n          <div class=\"stat-item\">\r\n            <span class=\"stat-label\">Deltas Received:</span>\r\n            <span class=\"stat-value\">${metrics.stats.deltasReceived.toLocaleString()}</span>\r\n          </div>\r\n          `\r\n    : \"\"\r\n}\r\n          ${\r\n  metrics.mode === \"client\"\r\n    ? `\r\n          <div class=\"stat-item ${metrics.stats.udpSendErrors > 0 ? \"error\" : \"\"}\">\r\n            <span class=\"stat-label\">UDP Send Errors:</span>\r\n            <span class=\"stat-value\">${metrics.stats.udpSendErrors}</span>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <span class=\"stat-label\">UDP Retries:</span>\r\n            <span class=\"stat-value\">${metrics.stats.udpRetries}</span>\r\n          </div>\r\n          `\r\n    : \"\"\r\n}\r\n          <div class=\"stat-item ${metrics.stats.compressionErrors > 0 ? \"error\" : \"\"}\">\r\n            <span class=\"stat-label\">Compression Errors:</span>\r\n            <span class=\"stat-value\">${metrics.stats.compressionErrors}</span>\r\n          </div>\r\n          <div class=\"stat-item ${metrics.stats.encryptionErrors > 0 ? \"error\" : \"\"}\">\r\n            <span class=\"stat-label\">Encryption Errors:</span>\r\n            <span class=\"stat-value\">${metrics.stats.encryptionErrors}</span>\r\n          </div>\r\n          ${\r\n  metrics.mode === \"client\"\r\n    ? `\r\n          <div class=\"stat-item ${metrics.stats.subscriptionErrors > 0 ? \"error\" : \"\"}\">\r\n            <span class=\"stat-label\">Subscription Errors:</span>\r\n            <span class=\"stat-value\">${metrics.stats.subscriptionErrors}</span>\r\n          </div>\r\n          `\r\n    : \"\"\r\n}\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    if (metrics.lastError) {\r\n      const timeAgo = metrics.lastError.timeAgo;\r\n      const timeAgoStr =\r\n        timeAgo < 60000\r\n          ? `${Math.floor(timeAgo / 1000)}s ago`\r\n          : `${Math.floor(timeAgo / 60000)}m ago`;\r\n\r\n      metricsHtml += `\r\n        <div class=\"metrics-error\">\r\n          <h5>‚ö†Ô∏è Last Error</h5>\r\n          <div class=\"error-message\">${this.escapeHtml(metrics.lastError.message)}</div>\r\n          <div class=\"error-time\">Occurred ${timeAgoStr}</div>\r\n        </div>\r\n      `;\r\n    } else if (!hasErrors) {\r\n      metricsHtml += `\r\n        <div class=\"metrics-success\">\r\n          <div class=\"success-message\">‚úì No errors detected</div>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    metricsDiv.innerHTML = metricsHtml;\r\n  }\r\n\r\n  updateBandwidthDisplay(metrics) {\r\n    const bandwidthDiv = document.getElementById(\"bandwidth\");\r\n    if (!bandwidthDiv || !metrics.bandwidth) {\r\n      return;\r\n    }\r\n\r\n    const bw = metrics.bandwidth;\r\n    const isClient = metrics.mode === \"client\";\r\n\r\n    // Calculate savings\r\n    const savedBytes = bw.bytesOutRaw - bw.bytesOut;\r\n    const savedFormatted = this.formatBytes(savedBytes > 0 ? savedBytes : 0);\r\n\r\n    const bandwidthHtml = `\r\n      <div class=\"bandwidth-dashboard\">\r\n        <div class=\"bandwidth-hero\">\r\n          <div class=\"hero-stat ${isClient ? \"primary\" : \"secondary\"}\">\r\n            <div class=\"hero-value\">${isClient ? bw.rateOutFormatted : bw.rateInFormatted}</div>\r\n            <div class=\"hero-label\">${isClient ? \"Upload Rate\" : \"Download Rate\"}</div>\r\n          </div>\r\n          <div class=\"hero-stat success\">\r\n            <div class=\"hero-value\">${bw.compressionRatio}%</div>\r\n            <div class=\"hero-label\">Compression Ratio</div>\r\n          </div>\r\n          <div class=\"hero-stat\">\r\n            <div class=\"hero-value\">${bw.avgPacketSizeFormatted}</div>\r\n            <div class=\"hero-label\">Avg Packet Size</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"bandwidth-details\">\r\n          <h5>üìä Bandwidth Details</h5>\r\n          <div class=\"bandwidth-grid\">\r\n            ${\r\n  isClient\r\n    ? `\r\n            <div class=\"bw-stat\">\r\n              <span class=\"bw-label\">Total Sent (Compressed):</span>\r\n              <span class=\"bw-value\">${bw.bytesOutFormatted}</span>\r\n            </div>\r\n            <div class=\"bw-stat\">\r\n              <span class=\"bw-label\">Total Raw (Before Compression):</span>\r\n              <span class=\"bw-value\">${bw.bytesOutRawFormatted}</span>\r\n            </div>\r\n            <div class=\"bw-stat highlight\">\r\n              <span class=\"bw-label\">Bandwidth Saved:</span>\r\n              <span class=\"bw-value success-text\">${savedFormatted}</span>\r\n            </div>\r\n            <div class=\"bw-stat\">\r\n              <span class=\"bw-label\">Packets Sent:</span>\r\n              <span class=\"bw-value\">${bw.packetsOut.toLocaleString()}</span>\r\n            </div>\r\n            `\r\n    : `\r\n            <div class=\"bw-stat\">\r\n              <span class=\"bw-label\">Total Received (Compressed):</span>\r\n              <span class=\"bw-value\">${bw.bytesInFormatted}</span>\r\n            </div>\r\n            <div class=\"bw-stat\">\r\n              <span class=\"bw-label\">Packets Received:</span>\r\n              <span class=\"bw-value\">${bw.packetsIn.toLocaleString()}</span>\r\n            </div>\r\n            `\r\n}\r\n          </div>\r\n        </div>\r\n\r\n        ${this.renderBandwidthChart(bw.history, isClient)}\r\n      </div>\r\n    `;\r\n\r\n    bandwidthDiv.innerHTML = bandwidthHtml;\r\n  }\r\n\r\n  renderBandwidthChart(history, isClient) {\r\n    if (!history || history.length < 2) {\r\n      return `\r\n        <div class=\"bandwidth-chart-placeholder\">\r\n          <p>Collecting data for chart... (${history ? history.length : 0}/2 points)</p>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    // Simple SVG sparkline chart\r\n    const width = 100;\r\n    const height = 40;\r\n    const maxRate = Math.max(...history.map((h) => (isClient ? h.rateOut : h.rateIn)), 1);\r\n    const points = history\r\n      .map((h, i) => {\r\n        const x = (i / (history.length - 1)) * width;\r\n        const y = height - ((isClient ? h.rateOut : h.rateIn) / maxRate) * height;\r\n        return `${x},${y}`;\r\n      })\r\n      .join(\" \");\r\n\r\n    const maxRateFormatted = this.formatBytes(maxRate);\r\n\r\n    return `\r\n      <div class=\"bandwidth-chart\">\r\n        <h5>üìà Rate History (Last ${history.length * 5}s)</h5>\r\n        <div class=\"chart-container\">\r\n          <svg viewBox=\"0 0 ${width} ${height}\" class=\"sparkline\" preserveAspectRatio=\"none\">\r\n            <polyline\r\n              fill=\"none\"\r\n              stroke=\"var(--primary-color)\"\r\n              stroke-width=\"1.5\"\r\n              points=\"${points}\"\r\n            />\r\n          </svg>\r\n          <div class=\"chart-labels\">\r\n            <span class=\"chart-max\">${maxRateFormatted}/s</span>\r\n            <span class=\"chart-min\">0</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  updatePathAnalyticsDisplay(metrics) {\r\n    const pathDiv = document.getElementById(\"pathAnalytics\");\r\n    if (!pathDiv || !metrics.pathStats) {\r\n      return;\r\n    }\r\n\r\n    const paths = metrics.pathStats;\r\n\r\n    if (paths.length === 0) {\r\n      pathDiv.innerHTML = `\r\n        <div class=\"path-analytics-empty\">\r\n          <p>No path data collected yet. Data will appear once deltas are transmitted.</p>\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n\r\n    // Group by category\r\n    const categories = {};\r\n    paths.forEach((p) => {\r\n      const category = p.path.split(\".\")[0];\r\n      if (!categories[category]) {\r\n        categories[category] = { paths: [], totalBytes: 0, totalCount: 0 };\r\n      }\r\n      categories[category].paths.push(p);\r\n      categories[category].totalBytes += p.bytes;\r\n      categories[category].totalCount += p.count;\r\n    });\r\n\r\n    let pathHtml = `\r\n      <div class=\"path-analytics-dashboard\">\r\n        <div class=\"path-summary\">\r\n          <div class=\"summary-stat\">\r\n            <span class=\"summary-value\">${paths.length}</span>\r\n            <span class=\"summary-label\">Active Paths</span>\r\n          </div>\r\n          <div class=\"summary-stat\">\r\n            <span class=\"summary-value\">${Object.keys(categories).length}</span>\r\n            <span class=\"summary-label\">Categories</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"path-table-container\">\r\n          <table class=\"path-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Path</th>\r\n                <th>Updates/min</th>\r\n                <th>Data Volume</th>\r\n                <th>% of Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n    `;\r\n\r\n    // Show top 15 paths\r\n    paths.slice(0, 15).forEach((p) => {\r\n      const barWidth = Math.max(p.percentage, 2); // Minimum 2% width for visibility\r\n      pathHtml += `\r\n        <tr>\r\n          <td class=\"path-name\" title=\"${this.escapeHtml(p.path)}\">${this.escapeHtml(p.path)}</td>\r\n          <td class=\"path-rate\">${p.updatesPerMinute}</td>\r\n          <td class=\"path-bytes\">${p.bytesFormatted}</td>\r\n          <td class=\"path-percentage\">\r\n            <div class=\"percentage-bar-container\">\r\n              <div class=\"percentage-bar\" style=\"width: ${barWidth}%\"></div>\r\n              <span class=\"percentage-text\">${p.percentage}%</span>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      `;\r\n    });\r\n\r\n    pathHtml += `\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n    `;\r\n\r\n    if (paths.length > 15) {\r\n      pathHtml += `\r\n        <div class=\"path-more\">\r\n          <p>Showing top 15 of ${paths.length} paths</p>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    pathHtml += \"</div>\";\r\n\r\n    pathDiv.innerHTML = pathHtml;\r\n  }\r\n\r\n  formatBytes(bytes) {\r\n    if (bytes === 0) {return \"0 B\";}\r\n    const k = 1024;\r\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\r\n  }\r\n\r\n  escapeHtml(text) {\r\n    const div = document.createElement(\"div\");\r\n    div.textContent = text;\r\n    return div.innerHTML;\r\n  }\r\n\r\n  updateStatus() {\r\n    const statusDiv = document.getElementById(\"status\");\r\n    let statusHtml = \"<h4>Configuration Status</h4>\";\r\n\r\n    // Delta timer status\r\n    if (this.deltaTimerConfig) {\r\n      statusHtml += `\r\n                <div class=\"status-item\">\r\n                    <strong>Delta Timer:</strong> ${this.deltaTimerConfig.deltaTimer}ms\r\n                    <span class=\"status-indicator success\">‚úì Configured</span>\r\n                </div>\r\n            `;\r\n    } else {\r\n      statusHtml += `\r\n                <div class=\"status-item\">\r\n                    <strong>Delta Timer:</strong> \r\n                    <span class=\"status-indicator warning\">‚ö† Not configured</span>\r\n                </div>\r\n            `;\r\n    }\r\n\r\n    // Subscription status\r\n    if (this.subscriptionConfig && this.subscriptionConfig.subscribe) {\r\n      const pathCount = this.subscriptionConfig.subscribe.length;\r\n      statusHtml += `\r\n                <div class=\"status-item\">\r\n                    <strong>Subscriptions:</strong> ${pathCount} path(s) configured\r\n                    <span class=\"status-indicator success\">‚úì Configured</span>\r\n                </div>\r\n                <div class=\"status-details\">\r\n                    <strong>Context:</strong> ${this.subscriptionConfig.context}<br>\r\n                    <strong>Paths:</strong> ${this.subscriptionConfig.subscribe.map((s) => s.path).join(\", \")}\r\n                </div>\r\n            `;\r\n    } else {\r\n      statusHtml += `\r\n                <div class=\"status-item\">\r\n                    <strong>Subscriptions:</strong>\r\n                    <span class=\"status-indicator warning\">‚ö† Not configured</span>\r\n                </div>\r\n            `;\r\n    }\r\n\r\n    // Sentence filter status\r\n    if (\r\n      this.sentenceFilterConfig &&\r\n      this.sentenceFilterConfig.excludedSentences &&\r\n      this.sentenceFilterConfig.excludedSentences.length > 0\r\n    ) {\r\n      const filterCount = this.sentenceFilterConfig.excludedSentences.length;\r\n      statusHtml += `\r\n                <div class=\"status-item\">\r\n                    <strong>Sentence Filter:</strong> ${filterCount} sentence(s) excluded\r\n                    <span class=\"status-indicator success\">‚úì Configured</span>\r\n                </div>\r\n                <div class=\"status-details\">\r\n                    <strong>Excluded:</strong> ${this.sentenceFilterConfig.excludedSentences.join(\", \")}\r\n                </div>\r\n            `;\r\n    } else {\r\n      statusHtml += `\r\n                <div class=\"status-item\">\r\n                    <strong>Sentence Filter:</strong>\r\n                    <span class=\"status-indicator info\">‚Ñπ No filters (all sentences transmitted)</span>\r\n                </div>\r\n            `;\r\n    }\r\n\r\n    statusDiv.innerHTML = statusHtml;\r\n  }\r\n\r\n  showServerModeUI() {\r\n    const container = document.querySelector(\".container\");\r\n    container.innerHTML = `\r\n            <div class=\"config-section\">\r\n                <div class=\"card server-mode-card\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Server Mode Active</h2>\r\n                        <p>This plugin is running in Server Mode - receiving data from clients</p>\r\n                    </div>\r\n                    <div class=\"card-content\">\r\n                        <div class=\"server-mode-info\">\r\n                            <div class=\"info-grid compact\">\r\n                                <div class=\"info-item\">\r\n                                    <h4>Configuration</h4>\r\n                                    <p>Managed through SignalK plugin settings</p>\r\n                                </div>\r\n                                <div class=\"info-item\">\r\n                                    <h4>Data Flow</h4>\r\n                                    <p>Client Devices ‚Üí Server ‚Üí SignalK</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"config-section\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Bandwidth Monitor</h2>\r\n                        <p class=\"subtitle\">Real-time data reception statistics</p>\r\n                    </div>\r\n                    <div class=\"card-content\">\r\n                        <div id=\"bandwidth\" class=\"bandwidth-info\">\r\n                            <p>Loading bandwidth data...</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"config-section\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Path Analytics</h2>\r\n                        <p class=\"subtitle\">Data volume by subscription path</p>\r\n                    </div>\r\n                    <div class=\"card-content\">\r\n                        <div id=\"pathAnalytics\" class=\"path-analytics-info\">\r\n                            <p>Loading path analytics...</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"config-section\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <h2>Performance Metrics</h2>\r\n                        <p class=\"subtitle\">Real-time statistics (auto-refreshes every 5 seconds)</p>\r\n                    </div>\r\n                    <div class=\"card-content\">\r\n                        <div id=\"metrics\" class=\"metrics-info\">\r\n                            <p>Loading metrics...</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n  }\r\n\r\n  showNotification(message, type = \"success\") {\r\n    const notification = document.getElementById(\"notification\");\r\n    notification.textContent = message;\r\n    notification.className = `notification ${type} show`;\r\n\r\n    setTimeout(() => {\r\n      notification.classList.remove(\"show\");\r\n    }, NOTIFICATION_TIMEOUT);\r\n  }\r\n}\r\n\r\n// Initialize when DOM is loaded\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  window.dataConnectorConfig = new DataConnectorConfig();\r\n});\r\n\r\n// Clean up metrics refresh interval when page is hidden or unloaded\r\ndocument.addEventListener(\"visibilitychange\", () => {\r\n  if (document.hidden && window.dataConnectorConfig && window.dataConnectorConfig.metricsInterval) {\r\n    clearInterval(window.dataConnectorConfig.metricsInterval);\r\n    window.dataConnectorConfig.metricsInterval = null;\r\n  } else if (\r\n    !document.hidden &&\r\n    window.dataConnectorConfig &&\r\n    !window.dataConnectorConfig.metricsInterval\r\n  ) {\r\n    // Restart metrics refresh when page becomes visible again\r\n    window.dataConnectorConfig.startMetricsRefresh();\r\n  }\r\n});\r\n\r\nwindow.addEventListener(\"beforeunload\", () => {\r\n  if (window.dataConnectorConfig && window.dataConnectorConfig.metricsInterval) {\r\n    clearInterval(window.dataConnectorConfig.metricsInterval);\r\n    window.dataConnectorConfig.metricsInterval = null;\r\n  }\r\n});\r\n\r\n// Export for global access\r\nexport default DataConnectorConfig;\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_typeof","toPrimitive","String","_toPrimitive","DataConnectorConfig","_classCallCheck","this","deltaTimerConfig","subscriptionConfig","sentenceFilterConfig","isServerMode","metricsInterval","init","_init","_callee","_t","_context","checkServerMode","showServerModeUI","loadMetrics","startMetricsRefresh","loadConfigurations","setupEventListeners","updateUI","updateStatus","console","error","showNotification","message","_checkServerMode","_callee2","response","_context2","fetch","ok","status","_loadConfigurations","_callee3","deltaResponse","subResponse","filterResponse","_t3","_context3","json","_this","document","getElementById","addEventListener","saveDeltaTimer","saveSubscription","saveSentenceFilter","addPathItem","syncFromJson","updateJsonFromForm","_this2","deltaTimer","context","innerHTML","subscribe","Array","isArray","forEach","sub","path","JSON","stringify","excludedSentences","join","_this3","undefined","pathsList","pathItem","createElement","className","input","type","placeholder","button","textContent","remove","appendChild","pathInputs","querySelectorAll","config","from","map","filter","trim","_this4","jsonText","parse","warn","_saveDeltaTimer","_callee4","_t4","_context4","parseInt","isNaN","concat","method","headers","body","Error","_saveSubscription","_callee5","_t5","_context5","_saveSentenceFilter","_callee6","filterInput","_t6","_context6","split","s","toUpperCase","_loadMetrics","_callee7","metrics","_t7","_context7","updateMetricsDisplay","_this5","clearInterval","setInterval","updateBandwidthDisplay","updatePathAnalyticsDisplay","metricsDiv","hasErrors","stats","udpSendErrors","compressionErrors","encryptionErrors","subscriptionErrors","metricsHtml","uptime","formatted","mode","readyToSend","deltasBuffered","deltasSent","toLocaleString","deltasReceived","udpRetries","lastError","timeAgo","timeAgoStr","Math","floor","escapeHtml","bandwidthDiv","bandwidth","bw","isClient","savedBytes","bytesOutRaw","bytesOut","savedFormatted","formatBytes","bandwidthHtml","rateOutFormatted","rateInFormatted","compressionRatio","avgPacketSizeFormatted","bytesOutFormatted","bytesOutRawFormatted","packetsOut","bytesInFormatted","packetsIn","renderBandwidthChart","history","maxRate","max","_toConsumableArray","h","rateOut","rateIn","points","x","maxRateFormatted","_this6","pathDiv","pathStats","paths","categories","category","totalBytes","totalCount","push","bytes","count","pathHtml","keys","slice","barWidth","percentage","updatesPerMinute","bytesFormatted","log","parseFloat","pow","toFixed","text","div","statusDiv","statusHtml","pathCount","filterCount","querySelector","notification","setTimeout","classList","window","dataConnectorConfig","hidden"],"sourceRoot":""}